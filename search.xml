<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>vi/vim 介绍</title>
      <link href="/2022/09/15/vim%E4%BB%8B%E7%BB%8D/"/>
      <url>/2022/09/15/vim%E4%BB%8B%E7%BB%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="基本介绍"><a href="#基本介绍" class="headerlink" title="基本介绍"></a>基本介绍</h1><p>Vi是Unix及Linux系统下标准的编辑器，由美国<a href="https://baike.baidu.com/item/%E5%8A%A0%E5%B7%9E%E5%A4%A7%E5%AD%A6%E4%BC%AF%E5%85%8B%E5%88%A9%E5%88%86%E6%A0%A1?fromModule=lemma_inlink">加州大学伯克利分校</a>的BillJoy所创立.</p><span id="more"></span> <p>vi编辑器是所有Unix及Linux系统下标准的<a href="https://baike.baidu.com/item/%E7%BC%96%E8%BE%91/13008890?fromModule=lemma_inlink">编辑</a>器</p><p>Vim是一个类似于<a href="https://baike.baidu.com/item/Vi/8987313?fromModule=lemma_inlink">Vi</a>的著名的功能强大、高度可定制的<a href="https://baike.baidu.com/item/%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/8853160?fromModule=lemma_inlink">文本编辑器</a>，在Vi的基础上改进和增加了很多特性.</p><p><img src="/2022/09/15/vim%E4%BB%8B%E7%BB%8D/image-20220915205021410.png" alt="image-20220915205021410"></p><h1 id="常用三种模式"><a href="#常用三种模式" class="headerlink" title="常用三种模式"></a>常用三种模式</h1><h2 id="正常模式"><a href="#正常模式" class="headerlink" title="正常模式"></a>正常模式</h2><p>以 vim 打开一个文件就直接进入一般模式了(这是默认的模式)。</p><p>在这个模式中， 你可以使用『上下左右』按键来移动光标，你可以使用『删除字符』或『删除整行』来处理档案内容， 也可以使用『复制、贴上』来处理你的文件数据。在正常模式下可以使用快捷键</p><h2 id="插入模式-编辑模式"><a href="#插入模式-编辑模式" class="headerlink" title="插入模式(编辑模式)"></a>插入模式(编辑模式)</h2><p>按下i（insert）, I, o, O, a, A, r, R等任何一个字母之后才会进入编辑模式, 一般来说按i即可.</p><h2 id="命令行模式"><a href="#命令行模式" class="headerlink" title="命令行模式"></a>命令行模式</h2><p>在这个模式中， 可以提供你相关指令，完成读取、存盘、替换、离开 vim 、显示行号等的动作</p><h1 id="模式切换"><a href="#模式切换" class="headerlink" title="模式切换"></a>模式切换</h1><p><img src="/2022/09/15/vim%E4%BB%8B%E7%BB%8D/image-20200130123916930.png" alt="image-20200130123916930"></p><h1 id="快捷键使用"><a href="#快捷键使用" class="headerlink" title="快捷键使用"></a>快捷键使用</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">【修改配置文件】</span></span><br><span class="line">vim /etc/vim/vimrc</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">【命令模式下】</span></span><br><span class="line">查找关键字：/关键字 回车, 按 n：找下一个，shift+n 找上一个</span><br><span class="line">Shift + 8，即*键，直接对光标停留处的单词进行向下搜索</span><br><span class="line">Shift + 3，即#键，直接对光标停留处的单词进行向上搜索</span><br><span class="line"></span><br><span class="line">设置行号：set nu  取消行号:set nonu</span><br><span class="line">保存文件：w   </span><br><span class="line">保存指定路径：w + filename</span><br><span class="line">退出vim：q</span><br><span class="line">保存退出：wq</span><br><span class="line">临时执行命令：（:! command）</span><br><span class="line">全局替换文本： %s/old/new/g   eg: %s/brooks/BROOK/g</span><br><span class="line">搜索词高亮显示: set hlsearch </span><br><span class="line">取消高亮显示:  nohl</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">【正常模式下】</span></span><br><span class="line">u：撤销上一个动作</span><br><span class="line">ctrl+r: 返回到撤销之前</span><br><span class="line"></span><br><span class="line">o：切到光标的下一行    O：切到光标的上一行</span><br><span class="line">i：光标当前位置 I：光标所在行首</span><br><span class="line">a：光标下个位置A：光标所在行尾</span><br><span class="line"></span><br><span class="line">h：光标往前移动</span><br><span class="line">l：光标往后移动</span><br><span class="line">j：光标往下移动</span><br><span class="line">k：光标向上移动</span><br><span class="line"></span><br><span class="line">G：最末行  gg：最首行nG：到第n行</span><br><span class="line">H：当前屏幕首行  L：当前屏幕尾行  M：当前屏幕中间行 </span><br><span class="line">        </span><br><span class="line">x：往后删除一个字符 X：往前删除一个字符</span><br><span class="line">dd：删除(剪切)当前行  5dd：删除当前行向下的5行</span><br><span class="line">dG：删除当前光标行到最后一行</span><br><span class="line">   D： 删除从光标所在处到行尾</span><br><span class="line">   </span><br><span class="line">yy：拷贝当前行    5yy：拷贝当前行向下的3行 </span><br><span class="line">p：粘贴到下一行P： 粘贴到上一行  </span><br><span class="line"></span><br><span class="line">^ /（数字0）: 光标移动到行首</span><br><span class="line"><span class="meta">$</span><span class="bash"> /（字母A）: 光标移动到行尾（<span class="string">&quot;1$&quot;</span>当前行的行尾，<span class="string">&quot;2$&quot;</span>下一行的行尾）</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="快捷键-键盘览图"><a href="#快捷键-键盘览图" class="headerlink" title="快捷键-键盘览图"></a>快捷键-键盘览图</h1><p><img src="/2022/09/15/vim%E4%BB%8B%E7%BB%8D/image-20220915205434032.png" alt="image-20220915205434032"></p>]]></content>
      
      
      <categories>
          
          <category> vim </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>专业术语整理</title>
      <link href="/2022/06/02/%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/"/>
      <url>/2022/06/02/%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="智能座舱领域"><a href="#智能座舱领域" class="headerlink" title="智能座舱领域"></a>智能座舱领域</h1><h2 id="DMS"><a href="#DMS" class="headerlink" title="DMS"></a>DMS</h2><p>Driver Monitoring System 驾驶员检测系统 . 监测对象为Driver（驾驶员）</p><p>三大核心:  疲劳驾驶 , 分心检测 , 危险行为</p><span id="more"></span><p><img src="/2022/06/02/%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/image-20220729163119343.png" alt="image-20220729163119343"></p><h2 id="OMS"><a href="#OMS" class="headerlink" title="OMS"></a>OMS</h2><p>Occupancy Monitoring System，乘客检测系统. 监测对象为乘客</p><h2 id="RMS"><a href="#RMS" class="headerlink" title="RMS"></a>RMS</h2><p>后排盲区监测系统 </p><h2 id="IMS"><a href="#IMS" class="headerlink" title="IMS"></a>IMS</h2><p>In-cabin monitoring System 即汽车座舱的智能视觉监控系。既包括DMS、OMS，也包括FACE ID、手势识别、体征监测、远程监控等。</p><h2 id="IVI"><a href="#IVI" class="headerlink" title="IVI"></a>IVI</h2><p>In-Vehicle Infotainment 智能座舱的信息娱乐系统</p><h2 id="IMU"><a href="#IMU" class="headerlink" title="IMU"></a>IMU</h2><p>Inertial Measurement Unit, 惯性测量单元</p><h2 id="DVR"><a href="#DVR" class="headerlink" title="DVR"></a>DVR</h2><p>行车记录仪 </p><h2 id="AVM"><a href="#AVM" class="headerlink" title="AVM"></a>AVM</h2><p>around view monitoring  即全景影像监测, 向驾驶员提供车辆周围360度范围内实时影像信息</p><h2 id="HUD"><a href="#HUD" class="headerlink" title="HUD"></a>HUD</h2><p>Head Up Display 即抬头显示，又叫平视显示系统</p><p><img src="/2022/06/02/%E4%B8%93%E4%B8%9A%E6%9C%AF%E8%AF%AD%E6%95%B4%E7%90%86/image-20220729163244060.png" alt="image-20220729163244060"></p><h2 id="HMI"><a href="#HMI" class="headerlink" title="HMI"></a>HMI</h2><p>Human Machine Interface 人机交互接口 </p><h2 id="ADD"><a href="#ADD" class="headerlink" title="ADD"></a>ADD</h2><p>Autonomous Driving Domain, 自动驾驶域；</p><h2 id="DCD"><a href="#DCD" class="headerlink" title="DCD"></a>DCD</h2><p>Digital Cockpit Domain, 智能座舱域；</p><h2 id="VCCD"><a href="#VCCD" class="headerlink" title="VCCD"></a>VCCD</h2><p> Vehicle Central Control Domain, 整车控制域</p><h2 id="AVP"><a href="#AVP" class="headerlink" title="AVP"></a>AVP</h2><p> Automated Valet Parking, 自动泊车</p><h2 id="ACC"><a href="#ACC" class="headerlink" title="ACC"></a>ACC</h2><p>Adaptive Cruise Control, 自适应巡航 </p><h2 id="ADAS"><a href="#ADAS" class="headerlink" title="ADAS"></a>ADAS</h2><p>Advanced Driver Assistant System, 先进驾驶辅助系统</p><h2 id="PA"><a href="#PA" class="headerlink" title="PA"></a>PA</h2><p>Parking Assistant 停车辅助 </p><h2 id="ASIL"><a href="#ASIL" class="headerlink" title="ASIL"></a>ASIL</h2><p>Automotive Safety Integrity Level, 汽车安全完整性等级，有A, B, C, D 4个等级，A级安全性最低，D等级安全性最高</p><h2 id="FOV"><a href="#FOV" class="headerlink" title="FOV"></a>FOV</h2><p>视场角 </p><h2 id="EBA"><a href="#EBA" class="headerlink" title="EBA"></a>EBA</h2><p>emergency braking assist,紧急制动辅助.</p><p>实时监测车辆前方行驶环境，在可能发生碰撞危险时提前采取措施以减少制动响应时间并在驾驶员采取制动操作时辅助增加制动压力，以避免碰撞或减轻碰撞后果。</p><h2 id="ABS"><a href="#ABS" class="headerlink" title="ABS"></a>ABS</h2><p>Anti-lock Braking System, 防抱死制动系统</p><p>是指汽车制动时，自动控制制动器的制动力大小，使车轮不被抱死，处于边滚边滑（滑移率在20%左右）的状态，从而保证车轮与地面的附着力在最大值。能够避免车辆失控，并一般能减少制动距离，以提高车辆安全性的技术.</p><h2 id="AEB"><a href="#AEB" class="headerlink" title="AEB"></a>AEB</h2><p>advanced emergency braking,自动紧急制动</p><p>实时监测车辆前方行驶环境,并在可能发生碰撞危险时自动启动车辆制动系统使车辆减速，以避免碰撞或减轻碰撞后果。</p><h1 id="技术专业术语"><a href="#技术专业术语" class="headerlink" title="技术专业术语"></a>技术专业术语</h1><h2 id="MQTT"><a href="#MQTT" class="headerlink" title="MQTT"></a>MQTT</h2><p>消息队列遥测传输协议，基于发布订阅模式，工作在 TCP/IP协议族上 ,普用于物联网环境（IoT）</p><h2 id="RTP"><a href="#RTP" class="headerlink" title="RTP"></a>RTP</h2><p>Real Time Transport Protocol 实时传输协议,基于UDP  </p><h2 id="RTSP"><a href="#RTSP" class="headerlink" title="RTSP"></a>RTSP</h2><p>Real Time Streaming Protocol实时流传输协议，在<a href="https://baike.baidu.com/item/%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/8174145">体系结构</a>上位于RTP和RTCP之上，使用TCP或UDP完成数据传输</p><h2 id="RTMP"><a href="#RTMP" class="headerlink" title="RTMP"></a>RTMP</h2><p>Real Time Messaging Protocol 实时消息传输协议， 基于 TCP/IP协议 .主要用来在Flash/AIR平台和支持RTMP协议的流媒体/交互服务器之间进行音视频和数据通信</p><h2 id="DDS"><a href="#DDS" class="headerlink" title="DDS"></a>DDS</h2><p>Data Distribution Service 数据分发服务，是新一代分布式实时通信中间件协议，采用发布/订阅体系架构，强调以数据为中心，提供丰富的QoS服务质量策略，以保障数据进行实时、高效、灵活地分发，可满足各种分布式实时通信应用需求。以数据为中心的中间件协议和API标准，topic订阅/发布。</p><h2 id="QNX"><a href="#QNX" class="headerlink" title="QNX"></a>QNX</h2><p>嵌入式操作系统</p><h2 id="SOC"><a href="#SOC" class="headerlink" title="SOC"></a>SOC</h2><p>System on Chip , SoC芯片又称系统级芯片，片上系统，简单的理解就是把几种不同类型的芯片集成到一块芯片上，比如把CPU、GPU、存储器、蓝牙芯片等集成到一个芯片上。如果说CPU是大脑，那么SoC芯片就是大脑、心脏、眼睛和手的系统。通常，SoC芯片中包含一个或多个处理器、存储器、模拟电路模块、数模混合信号模块以及片上可编程逻辑。SoC芯片可以有效地降低电子/信息系统产品的开发成本，缩短开发周期，提高产品的竞争力。</p><h2 id="mDNS"><a href="#mDNS" class="headerlink" title="mDNS"></a>mDNS</h2><p>允许系统在局域网中广播查询其他资源的名称。简单来说：可以通过这个mDNS发现同一个局域网下的其他设备</p><p>mDNS的作用是实现局域网内的服务发现，查询，注册.</p><p>一个主机A进入局域网，开启了mDNS服务，就会向mDNS服务注册自己；另一个主机B就可以通过mDNS服务找到已经注册的主机A。</p><h2 id="OTA"><a href="#OTA" class="headerlink" title="OTA"></a>OTA</h2><p>空中下载技术（Over-the-Air），是通过移动通信的空中接口实现对移动终端设备及SIM卡数据进行远程管理的技术。在小米，更多指手机、电视、智能硬件等硬件的系统升级。</p><h2 id="DLNA"><a href="#DLNA" class="headerlink" title="DLNA"></a>DLNA</h2><p>解决个人PC，消费电器，移动设备在内的无线网络和有线网络的互联互通. 一种解决的方案，一种大家可以遵守的规范. </p><p>DLNA将其整个应用规定成5个功能组件。从下到上依次为：网络互连，网络协议，媒体传输，设备的发现控制和管理，媒体格式</p><h2 id="MCU"><a href="#MCU" class="headerlink" title="MCU"></a>MCU</h2><p>Micro-Controller Unit : 单片微型计算机 / 单片机</p><p>微控制单元，又称单片微型计算机或单片机。AVN中的V850，RH850，RL78都属于MCU。</p><h2 id="VLAN"><a href="#VLAN" class="headerlink" title="VLAN"></a>VLAN</h2><p>Virtual Local Area Network :虚拟局域网.</p><p>是一组逻辑上的设备和用户，这些设备和用户并不受物理位置的限制，可以根据功能、部门及应用等因素将它们组织起来，相互之间的通信就好像它们在<a href="https://baike.baidu.com/item/%E5%90%8C%E4%B8%80%E4%B8%AA%E7%BD%91%E6%AE%B5/10612240">同一个网段</a><strong>中一样</strong></p><h2 id="T-BOX"><a href="#T-BOX" class="headerlink" title="T-BOX"></a>T-BOX</h2><p>Telematics BOX，简称车载T-BOX.主机主要用于车内的影音娱乐，以及车辆信息显示. 和后台系统/手机APP通信，实现手机APP的车辆信息显示与控制。</p><h2 id="Box-Car"><a href="#Box-Car" class="headerlink" title="Box Car"></a>Box Car</h2><p>整车台架</p><h2 id="ESC"><a href="#ESC" class="headerlink" title="ESC"></a>ESC</h2><p>汽车电子稳定控制系统</p><p>汽车电子稳定控制系统是车辆新型的<a href="https://baike.baidu.com/item/%E4%B8%BB%E5%8A%A8%E5%AE%89%E5%85%A8%E7%B3%BB%E7%BB%9F/8217875">主动安全系统</a>，是汽车<a href="https://baike.baidu.com/item/%E9%98%B2%E6%8A%B1%E6%AD%BB%E5%88%B6%E5%8A%A8%E7%B3%BB%E7%BB%9F/898133">防抱死制动系统</a>(ABS)和<a href="https://baike.baidu.com/item/%E7%89%B5%E5%BC%95%E5%8A%9B%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F/2523757">牵引力控制系统</a>(TCS)功能的进一步扩展，并在此基础上,增加了车辆转向行驶时横摆率传感器、<a href="https://baike.baidu.com/item/%E4%BE%A7%E5%90%91%E5%8A%A0%E9%80%9F%E5%BA%A6/9163367">侧向加速度</a>传感器和<a href="https://baike.baidu.com/item/%E6%96%B9%E5%90%91%E7%9B%98%E8%BD%AC%E8%A7%92%E4%BC%A0%E6%84%9F%E5%99%A8/3919360">方向盘转角传感器</a>，通过ECU控制前后、左右车轮的驱动力和<a href="https://baike.baidu.com/item/%E5%88%B6%E5%8A%A8%E5%8A%9B/4338121">制动力</a>，确保车辆行驶的侧向稳定性。</p><h2 id="CAN"><a href="#CAN" class="headerlink" title="CAN"></a>CAN</h2><p>Controller Area Network 局域网控制器， can总线 !</p><h2 id="AVAS"><a href="#AVAS" class="headerlink" title="AVAS"></a>AVAS</h2><p>AVAS是汽车声音警报系统。如果有人击打、撞击或移动汽车，传感器就会向控制器发送信号，指示震动强度。根据震动的强度，控制器会发出表示警告的声音或者全面拉响警报。以此来震慑偷盗者，并提示通知车主。</p><h2 id="VDC"><a href="#VDC" class="headerlink" title="VDC"></a>VDC</h2><p>Vehicle Dynamic Control, 车辆动态控制系统</p><h2 id="TSP"><a href="#TSP" class="headerlink" title="TSP"></a>TSP</h2><p>Telematics Service Provider, 汽车远程服务提供商</p><h2 id="SOP"><a href="#SOP" class="headerlink" title="SOP"></a>SOP</h2><p>Start of Production / 开始量产</p><p>对整车厂而言，SOP一般指正式版本的工艺文件验证与释放完成，达到设定节拍下的整车生产与零部件供货能力。</p>]]></content>
      
      
      <categories>
          
          <category> 专业术语 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 汽车 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux常用工具集</title>
      <link href="/2022/04/06/Linux%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E9%9B%86/"/>
      <url>/2022/04/06/Linux%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E9%9B%86/</url>
      
        <content type="html"><![CDATA[<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">查看 git版本</span> </span><br><span class="line">git --version</span><br></pre></td></tr></table></figure><span id="more"></span> <h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><h3 id="1-node-js-安装"><a href="#1-node-js-安装" class="headerlink" title="1.node.js 安装"></a>1.node.js 安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https://deb.nodesource.com/setup_current.x | sudo -E bash -</span><br><span class="line">sudo apt-get install -y nodejs</span><br><span class="line"></span><br><span class="line">#检查是否成功：</span><br><span class="line">nodejs -v</span><br></pre></td></tr></table></figure><h3 id="2-npm安装"><a href="#2-npm安装" class="headerlink" title="2.npm安装"></a>2.npm安装</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install npm</span><br><span class="line"></span><br><span class="line">#检查是否安装成功</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><h3 id="3-Hexo-部署"><a href="#3-Hexo-部署" class="headerlink" title="3.Hexo 部署"></a>3.Hexo 部署</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd ~/Blog</span><br><span class="line"></span><br><span class="line">#安装hexo</span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line">#初始化hexo</span><br><span class="line">sudo hexo init</span><br></pre></td></tr></table></figure><h2 id="tmux"><a href="#tmux" class="headerlink" title="tmux"></a>tmux</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install tmux</span><br></pre></td></tr></table></figure><h2 id="vim"><a href="#vim" class="headerlink" title="vim"></a>vim</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install vim-gtk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">vi ~/.vimrc, 把下面的内容贴到这个文件里。 </span><br><span class="line">syntax on &quot;语法高亮</span><br><span class="line">set noswapfile</span><br><span class="line">set smartindent &quot;智能对齐</span><br><span class="line">set autoindent &quot;自动对齐</span><br><span class="line">set tabstop=4 &quot;tab键的宽度</span><br><span class="line">set softtabstop=4</span><br><span class="line">set shiftwidth=4 &quot;统一缩进为4</span><br><span class="line">set expandtab &quot;不要用空格替代制表符</span><br><span class="line"></span><br><span class="line">set hlsearch  &quot;搜索高亮</span><br><span class="line">set incsearch &quot;搜素高亮,搜索逐渐高亮</span><br><span class="line">set ignorecase &quot;搜索忽略大小写</span><br><span class="line">set number &quot;显示行号</span><br><span class="line"></span><br><span class="line">&quot;set fileencodings=utf-8,latin1,utf-16,ucs-bom,gbk,gb2312,cp936,big5,gb18030,uc-jp &quot;编码设置</span><br><span class="line">&quot;set termencoding=utf-8</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="python"><a href="#python" class="headerlink" title="python"></a>python</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python3.8</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">找Python3.8位置</span></span><br><span class="line">whereis python3.8</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">配置软连接</span></span><br><span class="line">cd /usr/bin</span><br><span class="line">ln -s /usr/bin/python3.8 python</span><br></pre></td></tr></table></figure><h2 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a><strong>Typora</strong></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE</span></span><br><span class="line">wget -qO - https://typora.io/linux/public-key.asc | sudo apt-key add -</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> add Typora<span class="string">&#x27;s repository</span></span></span><br><span class="line">sudo add-apt-repository &#x27;deb https://typora.io/linux ./&#x27;</span><br><span class="line">sudo apt-get update</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="string"> install typora</span></span></span><br><span class="line">sudo apt-get install typora</span><br></pre></td></tr></table></figure><h2 id="sublime-text3"><a href="#sublime-text3" class="headerlink" title="sublime text3"></a>sublime text3</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">download file</span></span><br><span class="line">wget https://download.sublimetext.com/sublime_text_3_build_3211_x64.tar.bz2</span><br></pre></td></tr></table></figure><p>制作安装脚本<code>install_sublime3.sh</code>脚本内容如下</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line">tar vxjf sublime_text_3_build_*_x64.tar.bz2</span><br><span class="line"></span><br><span class="line">link_subl=&quot;/usr/local/bin/subl&quot;</span><br><span class="line">link_desktop=&quot;/usr/share/applications/sublime_text.desktop&quot;</span><br><span class="line">sublime_home=&quot;/opt/sublime_text_3&quot;</span><br><span class="line">if [[ -d &quot;$sublime_home&quot; ]]; then</span><br><span class="line">    echo &quot;clear $sublime_home&quot;</span><br><span class="line">    sudo rm -rf $sublime_home</span><br><span class="line">    #read -n 1 -p &quot;Press any key to continue...&quot;</span><br><span class="line">fi</span><br><span class="line">sudo mv sublime_text_3 $sublime_home</span><br><span class="line"></span><br><span class="line">if [[ -L $link_subl ]]; then</span><br><span class="line">    echo &quot;clear $link_subl&quot;</span><br><span class="line">    sudo rm -rf $link_subl</span><br><span class="line">    #statements</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [[ -L $link_desktop ]]; then</span><br><span class="line">    echo &quot;clear symbolic $link_desktop&quot;</span><br><span class="line">    sudo rm -rf $link_desktop</span><br><span class="line">    </span><br><span class="line">fi</span><br><span class="line">sudo ln -s $sublime_home/sublime_text $link_subl</span><br><span class="line">sudo ln -s $sublime_home/sublime_text.desktop $link_desktop</span><br></pre></td></tr></table></figure><p>添加权限</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x install_sublime3.sh &amp; ./install_sublime3.sh</span><br></pre></td></tr></table></figure><p>安装完成-测试</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subl install_sublime3.sh</span><br></pre></td></tr></table></figure><p>添加桌面启动icon</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">教程：https://www.cnblogs.com/outsrkem/p/12717718.html</span><br></pre></td></tr></table></figure><h2 id="sogou"><a href="#sogou" class="headerlink" title="sogou"></a>sogou</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">安装指南  https://pinyin.sogou.com/linux/help.php</span></span><br><span class="line">sudo apt-get install fcitx</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">官网下载deb包，安装 https://pinyin.sogou.com/linux/</span></span><br><span class="line">sudo dpkg -i sogoupinyin_版本号_amd64.deb</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">重启电脑</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">卸载搜狗拼音输入法</span></span><br><span class="line">sudo apt-get purge sogoupinyin</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">卸载fcitx</span></span><br><span class="line">sudo apt-get purge fcitx </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">彻底卸载 fcitx 及相关配置</span></span><br><span class="line">sudo apt-get autoremove </span><br></pre></td></tr></table></figure><h2 id="vlc"><a href="#vlc" class="headerlink" title="vlc"></a>vlc</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snap install vlc</span><br></pre></td></tr></table></figure><h2 id="ffmpeg"><a href="#ffmpeg" class="headerlink" title="ffmpeg"></a>ffmpeg</h2><p>支持的库安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install -y autoconf automake build-essential git libass-dev libfreetype6-dev libsdl2-dev libtheora-dev libtool libva-dev libvdpau-dev libvorbis-dev libxcb1-dev libxcb-shm0-dev libxcb-xfixes0-dev pkg-config texinfo wget zlib1g-dev</span><br><span class="line"></span><br><span class="line">sudo apt install libavformat-dev libavcodec-dev libswresample-dev libswscale-dev libavutil-dev libsdl1.2-dev</span><br></pre></td></tr></table></figure><p>支持的库介绍</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">libavutil是一个包含简化编程功能的库，包括随机数生成器、数据结构、数学例程、核心多媒体实用程序等。</span><br><span class="line">libavcodec是一个包含音频/视频 解码器和编码器的库。</span><br><span class="line">libavformat是一个库，包含用于多媒体容器格式的合成和拆分的库。</span><br><span class="line">libavdevice是一个包含输入和输出设备的库，用于从许多常见的多媒体输入/输出软件框架(包括Video4Linux, Video4Linux2, VfW, and ALSA）中获取和呈现多媒体输入/输出软件框架。</span><br><span class="line">libavfilter是一个包含媒体过滤器的库。</span><br><span class="line">libswscale是一个执行高度优化的图像缩放和颜色空间/像素格式转换操作的库。</span><br><span class="line">libswressample是一个执行高度优化的音频重采样、重矩阵和示例格式转换操作的库。</span><br></pre></td></tr></table></figure><p>安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git clone git://source.ffmpeg.org/ffmpeg.git ffmpeg</span><br><span class="line"></span><br><span class="line">cd ffmpeg</span><br><span class="line"></span><br><span class="line">./configure   --enable-shared  --prefix=/usr/local/ffmpeg  --enable-gpl --enable-libx264  --enable-libx265   </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">./configure可能造成libx264 找不到,换成</span></span><br><span class="line">./configure --enable-static --disable-opencl</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">./configure 可能提示yasm未安装错误</span></span><br><span class="line">sudo apt-get install yasm</span><br></pre></td></tr></table></figure><p>编译</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure><p>增加安装目录的动态链接库:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LD_LIBRARY_PATH=/usr/local/ffmpeg/lib:$LD_LIBRARY_PATH</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>查看指令依赖的动态库</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ldd ffmpeg </span><br></pre></td></tr></table></figure><p>测试</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg –version</span><br><span class="line"></span><br><span class="line">brooks@brooks-HP:~/develop/ffmpeg$ ffmpeg -version</span><br><span class="line">ffmpeg version N-106673-g058a1ff9b4 Copyright (c) 2000-2022 the FFmpeg developers</span><br><span class="line">built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)</span><br><span class="line">configuration: --enable-static --disable-opencl</span><br><span class="line">libavutil      57. 24.101 / 57. 24.101</span><br><span class="line">libavcodec     59. 27.100 / 59. 27.100</span><br><span class="line">libavformat    59. 23.100 / 59. 23.100</span><br><span class="line">libavdevice    59.  6.100 / 59.  6.100</span><br><span class="line">libavfilter     8. 36.100 /  8. 36.100</span><br><span class="line">libswscale      6.  6.100 /  6.  6.100</span><br><span class="line">libswresample   4.  6.100 /  4.  6.100</span><br></pre></td></tr></table></figure><h2 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h2><p>配置了ssh，安装了ssh服务</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh brooks@10.221.110.76  #远程连接电脑</span><br></pre></td></tr></table></figure><h2 id="sftp"><a href="#sftp" class="headerlink" title="sftp"></a>sftp</h2><p>ssh 是登入远程服务器进行工作，那如果你只是想要从远程服务器下载或上传档案呢？ 那就不是使用 ssh 啦，而必须要使用 sftp 或 scp。</p><p>这个指令的用法与 ssh 很相似，只是 ssh 是用在登入而 sftp 在上传/下载文件而已。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">1.登录</span></span><br><span class="line">sftp user@hostname  #sftp brooks@10.221.110.76</span><br><span class="line"><span class="meta">#</span><span class="bash">2.上传</span></span><br><span class="line">put localfile [remotefile]</span><br><span class="line"><span class="meta">#</span><span class="bash">3.下载</span></span><br><span class="line">get remotefile [localfile]</span><br></pre></td></tr></table></figure><h2 id="scp"><a href="#scp" class="headerlink" title="scp"></a>scp</h2><p>secure copy的简写，用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">从本地复制到远程服务器：</span></span><br><span class="line">scp local_file remote_username@remote_ip:remote_folder</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">从远程拷贝文件到当前目录</span></span><br><span class="line">scp remote_username@remote_ip:remote_folder local_file</span><br><span class="line"></span><br><span class="line">scp brooks@10.220.124.2:/home/brooks/walilive.zip ./ #远程拷贝文件到当前目录</span><br></pre></td></tr></table></figure><h2 id="open-ssl"><a href="#open-ssl" class="headerlink" title="open ssl"></a>open ssl</h2><h3 id="方法一、通过Homebrew安装（推荐）"><a href="#方法一、通过Homebrew安装（推荐）" class="headerlink" title="方法一、通过Homebrew安装（推荐）"></a>方法一、通过Homebrew安装（推荐）</h3><p>打开终端，分别执行以下步骤中的命令：</p><ol><li>检查当前OpenSSL的版本</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> openssl version -a</span></span><br><span class="line">OpenSSL 3.0.0-alpha7-dev  (Library: OpenSSL 3.0.0-alpha7-dev ) # 这是更新后的</span><br><span class="line">built on: Fri Sep 11 09:31:01 2020 UTC</span><br><span class="line">... </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">which</span> openssl</span></span><br><span class="line">/usr/bin/openssl # 这是更新前，OpenSSL的路径</span><br></pre></td></tr></table></figure><ol start="2"><li>安装OpenSSL</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> brew update</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> brew install openssl</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> brew link --force openssl</span></span><br></pre></td></tr></table></figure><p>重新打开终端，执行<strong>第1步</strong>的命令，检查安装结果。</p><h3 id="方法二、通过编译源代码安装"><a href="#方法二、通过编译源代码安装" class="headerlink" title="方法二、通过编译源代码安装"></a>方法二、通过编译源代码安装</h3><p>打开终端，分别执行以下步骤中的命令：</p><ol><li>下载源代码</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#速度慢可以替换为国内 码云</span><br><span class="line">$ git clone https://github.com/openssl/openssl.git</span><br></pre></td></tr></table></figure><ol start="2"><li>编译安装</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> openssl</span><br><span class="line">$ ./Configure</span><br><span class="line">$ make</span><br><span class="line">$ make <span class="built_in">test</span></span><br><span class="line">$ make install</span><br></pre></td></tr></table></figure><p>默认情况下，如果没有出错，openssl将被安装到：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local</span><br></pre></td></tr></table></figure><p>更准确地说，文件将被安装到以下相应的子文件夹中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin # openssl可执行文件所在目录</span><br><span class="line">/usr/local/lib</span><br><span class="line">/usr/local/include</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>重新打开终端，执行<strong>方法一第1步</strong>的命令，检查安装结果。</p><h2 id="jdk11"><a href="#jdk11" class="headerlink" title="jdk11"></a>jdk11</h2><p>安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt-cache search java11</span><br><span class="line"></span><br><span class="line">sudo apt-get install openjdk-11-jdk</span><br></pre></td></tr></table></figure><p>卸载</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">检查已安装的OpenJDK包</span></span><br><span class="line">dpkg --list | grep -i jdk</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">移除 openjdk包:</span></span><br><span class="line">apt-get purge openjdk*</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">卸载 OpenJDK 相关包：</span></span><br><span class="line">apt-get purge icedtea-* openjdk-*</span><br></pre></td></tr></table></figure><h2 id="scrcpy"><a href="#scrcpy" class="headerlink" title="scrcpy"></a>scrcpy</h2><p>在没有物理显示屏的情况下，可以通过电脑显示器作为手机设备的显示屏-投屏显示</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">安装</span></span><br><span class="line">sudo apt update</span><br><span class="line">sudo apt install snapd</span><br><span class="line">sudo snap install scrcpy</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">使用</span></span><br><span class="line">adb root</span><br><span class="line">scrcpy </span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">或者有多个显示设备的时候，执行</span></span><br><span class="line">scrcpy --display=$&#123;N&#125;  #$&#123;N&#125; 为display id</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">获取display id</span></span><br><span class="line">adb shell dumpsys display | grep mDisplayId </span><br></pre></td></tr></table></figure><h2 id="ubuntu-Terminal光标问题"><a href="#ubuntu-Terminal光标问题" class="headerlink" title="ubuntu Terminal光标问题"></a>ubuntu Terminal光标问题</h2><p>显示光标:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\033[?25h&quot;</span></span><br></pre></td></tr></table></figure><p>隐藏光标：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\033[?25l&quot;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rxjava1.x 升级到 Rxjava2.x</title>
      <link href="/2021/12/23/Rxjava1-x-%E5%8D%87%E7%BA%A7%E5%88%B0-Rxjava2-x-%E7%AC%94%E8%AE%B0/"/>
      <url>/2021/12/23/Rxjava1-x-%E5%8D%87%E7%BA%A7%E5%88%B0-Rxjava2-x-%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="升级缘由"><a href="#升级缘由" class="headerlink" title="升级缘由"></a>升级缘由</h1><p>1、官方声明：版本 1.x 最终的寿命为<strong>2018 3月31日</strong>。不会发生进一步的开发、支持、维护、PR 和更新。 （<a href="https://github.com/ReactiveX/RxJava%EF%BC%89">https://github.com/ReactiveX/RxJava）</a></p><span id="more"></span> <p>2、RxJava1 中 Observable 不能很好地支持 backpressure ，会抛出MissingBackpressureException。在 RxJava2 中 Oberservable 不再支持 backpressure ，而使用新增的 Flowable 来支持 backpressure 。</p><p>3、RxJava 2.x 在性能和内存利用率方面普遍优于 1.x  (<a href="https://github.com/akarnokd/akarnokd-misc/issues/2">https://github.com/akarnokd/akarnokd-misc/issues/2</a>)</p><p>4、项目中存在多个Rxjava2版本和Rxjava1,（三方库依赖Rxjava）,客户端使用混乱，重复依赖~</p><h1 id="差异对照"><a href="#差异对照" class="headerlink" title="差异对照"></a>差异对照</h1><h2 id="0、导包不同"><a href="#0、导包不同" class="headerlink" title="0、导包不同"></a>0、导包不同</h2><p>RxJava2 导入包一般多了一个reactivex</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io.reactivex.Observable;</span><br></pre></td></tr></table></figure><h2 id="1、新增Flowable"><a href="#1、新增Flowable" class="headerlink" title="1、新增Flowable"></a>1、新增Flowable</h2><p>RxJava1 中 Observable 不能很好地支持 backpressure ，会抛出MissingBackpressureException。所以在 RxJava2 中 Observable 不再支持 backpressure ，而使用新增的 Flowable 来支持 backpressure 。</p><h2 id="2、ActionN-和-FuncN-改名"><a href="#2、ActionN-和-FuncN-改名" class="headerlink" title="2、ActionN 和 FuncN 改名"></a>2、ActionN 和 FuncN 改名</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Action0 改名成 Action</span><br><span class="line">Action1 改名成 Consumer</span><br><span class="line">Action2 改名成了 BiConsumer</span><br><span class="line">Action3 - Action9都不再使用了</span><br><span class="line">ActionN 变成了 Consumer</span><br><span class="line">    </span><br><span class="line">Func1 改名成 Function</span><br><span class="line">Func2 改名成 BiFunction</span><br><span class="line">Func3 - Func9 改名成 Function3 - Function9，</span><br><span class="line">FuncN 由 Function&lt;Object[], R&gt; 取代。对应的抽象方法也有所修改，call需要修改为apply</span><br></pre></td></tr></table></figure><h2 id="3、Observable-OnSubscribe-gt-ObservableOnSubscribe"><a href="#3、Observable-OnSubscribe-gt-ObservableOnSubscribe" class="headerlink" title="3、Observable.OnSubscribe -&gt; ObservableOnSubscribe"></a>3、Observable.OnSubscribe -&gt; ObservableOnSubscribe</h2><pre><code>Observable.OnSubscribe 改成了 ObservableOnSubscribe</code></pre><h2 id="4、Observable-Transformer-gt-ObservableTransformer"><a href="#4、Observable-Transformer-gt-ObservableTransformer" class="headerlink" title="4、Observable.Transformer -&gt; ObservableTransformer"></a>4、Observable.Transformer -&gt; ObservableTransformer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Observable.Transformer 改成了 ObservableTransformer</span><br></pre></td></tr></table></figure><h2 id="5、Observable-from-gt-Observable-fromIterable"><a href="#5、Observable-from-gt-Observable-fromIterable" class="headerlink" title="5、Observable.from  -&gt; Observable.fromIterable"></a>5、Observable.from  -&gt; Observable.fromIterable</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Observable.from  -&gt; Observable.fromIterable </span><br></pre></td></tr></table></figure><h2 id="6-Subscription-gt-Disposable"><a href="#6-Subscription-gt-Disposable" class="headerlink" title="6.  Subscription -&gt; Disposable"></a>6.  Subscription -&gt; Disposable</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">在 RxJava2 中，由于已经存在了 org.reactivestreams.subscription 这个类，为了避免名字冲突将原先的 rx.Subscription 改名为 io.reactivex.disposables.Disposable。</span><br><span class="line"></span><br><span class="line">顺便说下，Disposable必须单次使用，用完就要销毁。</span><br></pre></td></tr></table></figure><h2 id="7、SubScriber-gt-Observer"><a href="#7、SubScriber-gt-Observer" class="headerlink" title="7、SubScriber -&gt; Observer"></a>7、SubScriber -&gt; Observer</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">io.reactivex.Observer</span><br></pre></td></tr></table></figure><h2 id="8、ObservableOnSubscribe-中使用-ObservableEmitter-发送数据"><a href="#8、ObservableOnSubscribe-中使用-ObservableEmitter-发送数据" class="headerlink" title="8、ObservableOnSubscribe 中使用 ObservableEmitter 发送数据"></a>8、ObservableOnSubscribe 中使用 ObservableEmitter 发送数据</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ObservableOnSubscribe 不再使用 Subscriber 而是用 ObservableEmitter 替代。</span><br></pre></td></tr></table></figure><h2 id="9、Observer接口中-onCompleted-改成了-onComplete"><a href="#9、Observer接口中-onCompleted-改成了-onComplete" class="headerlink" title="9、Observer接口中 onCompleted 改成了 onComplete"></a>9、Observer接口中 onCompleted 改成了 onComplete</h2><h2 id="10、Schedulers-immediate-gt-Schedulers-trampoline"><a href="#10、Schedulers-immediate-gt-Schedulers-trampoline" class="headerlink" title="10、Schedulers.immediate( ) -&gt; Schedulers.trampoline( )"></a>10、Schedulers.immediate( ) -&gt; Schedulers.trampoline( )</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Schedulers.immediate( )的作用为在当前线程立即执行任务，功能等同于RxJava2中的Schedulers.trampoline( )</span><br></pre></td></tr></table></figure><h2 id="11-RxView-clicks-gt-RxBase-clicks-自定义处理事件"><a href="#11-RxView-clicks-gt-RxBase-clicks-自定义处理事件" class="headerlink" title="11.RxView.clicks  -&gt; RxBase.clicks 自定义处理事件"></a>11.RxView.clicks  -&gt; RxBase.clicks 自定义处理事件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">com.common.utils.rx.ViewClickOnSubscribe</span><br><span class="line">com.common.utils.rx.ViewLongClickOnSubscribe</span><br></pre></td></tr></table></figure><h2 id="12、CompositeSubscription-gt-CompositeDisposable"><a href="#12、CompositeSubscription-gt-CompositeDisposable" class="headerlink" title="12、CompositeSubscription -&gt; CompositeDisposable"></a>12、CompositeSubscription -&gt; CompositeDisposable</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">io.reactivex.disposables.CompositeDisposable</span><br></pre></td></tr></table></figure><h2 id="13、Observable-takeFirst-gt-Observable-takeUntil"><a href="#13、Observable-takeFirst-gt-Observable-takeUntil" class="headerlink" title="13、Observable.takeFirst -&gt; Observable.takeUntil"></a>13、Observable.takeFirst -&gt; Observable.takeUntil</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">io.reactivex.Observable#takeUntil(io.reactivex.functions.Predicate&lt;? <span class="keyword">super</span> T&gt;)</span><br></pre></td></tr></table></figure><h2 id="14、Rxjava2-onNext方法不能回调-null对象，否则Emitterf发射器里会直接抛出异常："><a href="#14、Rxjava2-onNext方法不能回调-null对象，否则Emitterf发射器里会直接抛出异常：" class="headerlink" title="14、Rxjava2 onNext方法不能回调 null对象，否则Emitterf发射器里会直接抛出异常："></a>14、Rxjava2 onNext方法不能回调 null对象，否则Emitterf发射器里会直接抛出异常：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onNext called with null. Null values are generally not allowed in 2.x operators and sources.</span><br></pre></td></tr></table></figure><p>解决办法：使用一个对象包裹接口返回结果，将包装后对象发射出去，再次里面取出结果</p><h2 id="15、-Observable-just-null-替换"><a href="#15、-Observable-just-null-替换" class="headerlink" title="15、 Observable.just(null)  替换"></a>15、 Observable.just(null)  替换</h2><p>Rxjava2对just函数 进行了null校验，不允许发送null值。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//io.reactivex.Observable#just(T) </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Observable&lt;T&gt; <span class="title">just</span><span class="params">(T item)</span> </span>&#123;</span><br><span class="line">      ObjectHelper.requireNonNull(item, <span class="string">&quot;item is null&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> RxJavaPlugins.onAssembly(<span class="keyword">new</span> ObservableJust&lt;T&gt;(item));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="16、异常捕获处理-setErrorHandler"><a href="#16、异常捕获处理-setErrorHandler" class="headerlink" title="16、异常捕获处理 setErrorHandler"></a>16、异常捕获处理 setErrorHandler</h2><p>The exception could not be delivered to the consumer because it has already canceled/disposed the flow or the exception has nowhere to go to begin with</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">解决方案<span class="number">1</span>：在 Application 初始化时候设置 RxJavaPlugin 的 ErrorHandler。RxJava2的一个重要的设计理念是：不吃掉任何一个异常。产生的问题是，当RxJava2“downStream”取消订阅后，“upStream”仍有可能抛出异常，这时由于已经取消订阅，“downStream”无法处理异常，此时的异常无人处理，便会导致程序崩溃。</span><br><span class="line"></span><br><span class="line">RxJavaPlugins.setErrorHandler(<span class="keyword">new</span> Consumer() &#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(Throwable throwable)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">System.out.println(“err:” + throwable.getMessage());</span><br><span class="line">&#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 原文链接：https://blog.csdn.net/qq_36017059/article/details/110140369</span></span><br></pre></td></tr></table></figure><h2 id="17、取消订阅"><a href="#17、取消订阅" class="headerlink" title="17、取消订阅"></a>17、取消订阅</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Observable : doOnUnsubscribe -&gt;  doOnDispose</span><br><span class="line">    </span><br><span class="line">Flowable:     doOnDispose   -&gt;   doOnCancel</span><br></pre></td></tr></table></figure><h2 id="18、背压替换使用-Flowable"><a href="#18、背压替换使用-Flowable" class="headerlink" title="18、背压替换使用 Flowable"></a>18、背压替换使用 Flowable</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用到.onBackpressureDrop() ，onBackpressureBuffer 函数，请替换 Observable为 Flowable。 专门用于处理背压。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Rxjava </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>tmux入门指南</title>
      <link href="/2021/11/25/tmux%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/"/>
      <url>/2021/11/25/tmux%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>tmux是一个 terminal multiplexer（终端复用器），它可以启动一系列终端会话。</p><span id="more"></span> <p>我们使用命令行时，打开一个终端窗口，会话开始，执行某些命令如npm run dev，关闭此终端窗口会话结束，npm run dev服务会话随之被关闭。有时我们希望运行服务或者一些cd命令等被保留，而不是关闭窗口再打开后，重新手动执行。tmux的主要用途就在于此。</p><p>它解绑了会话和终端窗口。关闭终端窗口再打开会话并不终止，而是继续在执行。将会话与终端窗后彻底分离。</p><p><strong>优秀的shell分屏工具。</strong></p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Ubuntu 或 Debian</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install tmux</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> CentOS 或 Fedora</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo yum install tmux</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Mac</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> brew install tmux</span></span><br></pre></td></tr></table></figure><h1 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h1><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> tmux new -s  &lt;session-name&gt; <span class="comment">#启动并命名</span></span></span><br></pre></td></tr></table></figure><h2 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">exit</span> 或 ctrl+d</span></span><br></pre></td></tr></table></figure><h2 id="关闭当前终端"><a href="#关闭当前终端" class="headerlink" title="关闭当前终端"></a>关闭当前终端</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">x</span><br></pre></td></tr></table></figure><h2 id="关闭整个终端"><a href="#关闭整个终端" class="headerlink" title="关闭整个终端"></a>关闭整个终端</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">&amp;</span><br></pre></td></tr></table></figure><h2 id="切换终端窗口"><a href="#切换终端窗口" class="headerlink" title="切换终端窗口"></a>切换终端窗口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">方向键 或者 o</span><br></pre></td></tr></table></figure><h2 id="切换到指定窗口"><a href="#切换到指定窗口" class="headerlink" title="切换到指定窗口"></a>切换到指定窗口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">q</span><br><span class="line">再按对应数字键</span><br></pre></td></tr></table></figure><h2 id="垂直分屏"><a href="#垂直分屏" class="headerlink" title="垂直分屏"></a>垂直分屏</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">&quot;</span><br></pre></td></tr></table></figure><h2 id="水平分屏"><a href="#水平分屏" class="headerlink" title="水平分屏"></a>水平分屏</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line"><span class="meta">%</span></span><br></pre></td></tr></table></figure><h2 id="查看面板编号"><a href="#查看面板编号" class="headerlink" title="查看面板编号"></a>查看面板编号</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式(ctrl+b)后,按</span></span><br><span class="line">q</span><br></pre></td></tr></table></figure><h2 id="全屏-恢复面板窗口"><a href="#全屏-恢复面板窗口" class="headerlink" title="全屏/恢复面板窗口"></a>全屏/恢复面板窗口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式(ctrl+b)后,按</span></span><br><span class="line">z</span><br></pre></td></tr></table></figure><h2 id="创建新窗口"><a href="#创建新窗口" class="headerlink" title="创建新窗口"></a>创建新窗口</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式(ctrl+b)后,按</span></span><br><span class="line">c</span><br></pre></td></tr></table></figure><h2 id="查看会话列表"><a href="#查看会话列表" class="headerlink" title="查看会话列表"></a>查看会话列表</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux ls</span></span><br><span class="line"></span><br><span class="line">6: 1 windows (created Thu Nov 25 21:05:26 2021)</span><br><span class="line">7: 1 windows (created Thu Nov 25 21:15:18 2021)</span><br><span class="line">8: 1 windows (created Thu Nov 25 21:15:32 2021)</span><br></pre></td></tr></table></figure><h2 id="进入会话"><a href="#进入会话" class="headerlink" title="进入会话"></a>进入会话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux a -t &lt;session-name&gt;  <span class="comment">#从终端环境进入会话</span></span></span><br></pre></td></tr></table></figure><h2 id="离开会话"><a href="#离开会话" class="headerlink" title="离开会话"></a>离开会话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux detach</span></span><br></pre></td></tr></table></figure><h2 id="销毁会话"><a href="#销毁会话" class="headerlink" title="销毁会话"></a>销毁会话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux kill-session -t &lt;session-name&gt;</span></span><br></pre></td></tr></table></figure><h2 id="切换会话"><a href="#切换会话" class="headerlink" title="切换会话"></a>切换会话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux switch -t &lt;session-name&gt;</span></span><br></pre></td></tr></table></figure><h2 id="重命名会话"><a href="#重命名会话" class="headerlink" title="重命名会话"></a>重命名会话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> tmux rename-session -t &lt;old-session-name&gt; &lt;new-session-name&gt;</span></span><br></pre></td></tr></table></figure><h2 id="滚动窗户内容"><a href="#滚动窗户内容" class="headerlink" title="滚动窗户内容"></a>滚动窗户内容</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">PgUp PgDn 实现上下翻页</span><br><span class="line">键 q 退出</span><br></pre></td></tr></table></figure><h2 id="鼠标滚动-窗口内容"><a href="#鼠标滚动-窗口内容" class="headerlink" title="鼠标滚动-窗口内容"></a>鼠标滚动-窗口内容</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">按下ctrl+b,然后输入以下配置即可: （Linux下）</span><br><span class="line">:set -g mouse on</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">或者 打开conf文件，添加配置</span></span><br><span class="line">vim ~/.tmux.conf </span><br><span class="line">set -g mouse on</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="暂时退出当前会话"><a href="#暂时退出当前会话" class="headerlink" title="暂时退出当前会话"></a>暂时退出当前会话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">d</span><br></pre></td></tr></table></figure><h2 id="终端内显示时间"><a href="#终端内显示时间" class="headerlink" title="终端内显示时间"></a><strong>终端内显示时间</strong></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">启动命令模式后(ctrl+b)，按</span></span><br><span class="line">t</span><br></pre></td></tr></table></figure><p>感谢：</p><p><a href="https://zhuanlan.zhihu.com/p/98384704">https://zhuanlan.zhihu.com/p/98384704</a></p><p><a href="https://www.ruanyifeng.com/blog/2019/10/tmux.html">https://www.ruanyifeng.com/blog/2019/10/tmux.html</a></p><p><a href="https://www.cnblogs.com/longbigbeard/p/9513491.html">https://www.cnblogs.com/longbigbeard/p/9513491.html</a></p>]]></content>
      
      
      <categories>
          
          <category> tmux </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tmux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>技术-简称</title>
      <link href="/2021/08/19/%E6%8A%80%E6%9C%AF-%E7%AE%80%E7%A7%B0/"/>
      <url>/2021/08/19/%E6%8A%80%E6%9C%AF-%E7%AE%80%E7%A7%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Android-APT"><a href="#Android-APT" class="headerlink" title="Android APT"></a>Android APT</h1><p>Android annotation process tool 是一种处理注释的工具，它对源代码文件进行检测找出其中的Annotation，使用Annotation进行额外的处理。基于 Java生成代码，利于注解生成新的文件，有一定的侵入性。</p><span id="more"></span><p><strong>APT的处理要素：</strong></p><p>注解处理器（AbstractProcess）+代码处理（javaPoet）+处理器注册（AutoService）+apt</p><p><strong>APT处理annotation的流程：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> 定义注解（如<span class="meta">@automain</span>）</span><br><span class="line"><span class="number">2.</span> 定义注解处理器</span><br><span class="line"><span class="number">3.</span> 在处理器里面完成处理方式，通常是生成java代码。</span><br><span class="line"><span class="number">4.</span> 注册处理器</span><br></pre></td></tr></table></figure><p> 优秀讲解：<a href="https://juejin.cn/post/6844903923233341453">https://juejin.cn/post/6844903923233341453</a></p><h1 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h1><p>AOP是Aspect Oriented Programming的缩写，即『面向切面编程』。它和OOP都是编程的不同思想，OOP即『面向对象编程』，它提倡的是将功能模块化，对象化，而AOP的思想，它提倡的是针对同一类问题的统一处理，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。</p><p>常用技术：Aspectj ， ASM</p><h1 id="ASM"><a href="#ASM" class="headerlink" title="ASM"></a>ASM</h1><p><a href="https://asm.ow2.io/">ASM</a>是一个通用的Java字节码操作和分析框架。 它可以用于修改现有类或直接以二进制形式动态生成类。 ASM提供了一些常见的字节码转换和分析算法，可以从中构建自定义复杂转换和代码分析工具。ASM提供与其他Java字节码框架类似的功能，但专注于性能。 因为它的设计和实现尽可能小而且快，所以它非常适合在动态系统中使用。</p><p><strong>核心类：</strong></p><p>① ClassReader:该类用来解析编译过的class字节码文件。</p><p>② ClassWriter:该类用来重新构建编译后的类，比如说修改类名、属性以及方法，甚至可以生成新的类的字节码文件。</p><p>③ ClassAdapter:该类也实现了ClassVisitor接口，它将对它的方法调用委托给另一个ClassVisitor对象。</p><h1 id="AspectJ"><a href="#AspectJ" class="headerlink" title="AspectJ"></a>AspectJ</h1><p> AspectJ 通过注解的形式来标注切入点、切入对象等，然后在代码编译期间将代码织入到java的字节码中。</p><h1 id="CI"><a href="#CI" class="headerlink" title="CI"></a>CI</h1><p>Continuous Integration，即“持续集成”</p><p>CICD 是持续集成（Continuous Integration）、持续交付（Continuous Delivery）与持续部署（Continuous Deployment）的简称。指在开发过程中自动执行一系列脚本来减低开发引入 bug 的概率，在新代码从开发到部署的过程中，尽量减少人工的介入。</p><h1 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h1><p>Inversion of Control，即“控制反转”，它是一种设计思想，并不是什么技术；在 Java 中，IOC 意味着将我们设计好的对象交给容器控制，而不是传统的需要时在内部构造直接控制；</p><p><strong>谁控制谁？控制了什么？</strong></p><ul><li><strong>谁控制了谁：</strong> IoC 控制了对象；</li><li><strong>控制了什么：</strong> 主要控制了外部资源的获取，不仅限于对象，包括文件等资源；</li></ul><p><strong>什么为正转？什么为反转？</strong></p><ul><li><strong>正转：</strong> 在我们需要某个对象的时候，<strong>需要自己主动的去构建对象以及其所依赖的对象；</strong></li><li><strong>反转：</strong> 在我们需要某个对象的时候，<strong>只需要在 IoC 容器中获取所需对象，无需关心创建过程以及其中的依赖对象；全盘由 IoC 容器帮我们创建对象以及注入其所依赖的对象，在这里我们把对象的控制权反转给了 IoC 容器，所以称为反转；</strong></li></ul><h1 id="DI"><a href="#DI" class="headerlink" title="DI"></a>DI</h1><p>Dependency Injection，即”依赖注入”，就是由容器动态的将某个依赖注入到组件中。通过依赖注入机制，我们只需要简单的配置，无需任何代码就可以指定目标所需要的资源，从而完成自身的业务逻辑；我们无需关心具体的资源来自何处，提升了系统灵活性和可扩展性。</p><p>DI 可以看作是 IoC 的一种实现方式，IoC 是一种思想，而 DI 是一种设计模式，是一种实现 IoC 的模式。</p><p><strong>依赖注入的三种方式</strong></p><ol><li><strong>构造方法注入：</strong> 被注入的对象可以通过在其构造方法中声明参数列表，让 IoC 容器知道它需要依赖哪些对象</li><li><strong>setter 注入：</strong> 为其需要依赖的对象增加 setter 方法，可以通过 setter 方法将其依赖的对象注入到对象中</li><li><strong>接口注入：</strong> 对于接口注入来说，如果被注入对象想要 IoC 容器为其注入依赖对象，就必须实现某个接口，这个接口提供了一个方法，用来为其注入依赖对象。但是从注入方式的使用来说，接口注入是现在不提倡的一种方式，基本处于”退役”状态，因为它强制被注入实现对象不必要的依赖。</li></ol><h1 id="SPI"><a href="#SPI" class="headerlink" title="SPI"></a>SPI</h1><p>SPI ，全称为 Service Provider Interface，是一种服务发现机制。它通过在ClassPath路径下的META-INF/services文件夹查找文件，自动加载文件里所定义的类。</p><p>这一机制为很多框架扩展提供了可能，比如在Dubbo、JDBC中都使用到了SPI机制。</p><h1 id="服务发现"><a href="#服务发现" class="headerlink" title="服务发现"></a>服务发现</h1><p>在传统的系统部署中，服务运行在一个固定的已知的 IP 和端口上，如果一个服务需要调用另外一个服务，可以通过地址直接调用，但是，在虚拟化或容器话的环境中，服务实例的启动和销毁是很频繁的，服务地址在动态的变化，如果需要将请求发送到动态变化的服务实例上，至少需要两个步骤：</p><p>服务注册 — 存储服务的主机和端口信息</p><p>服务发现 — 允许其他用户发现服务注册阶段存储的信息</p><p>服务发现的主要优点是可以无需了解架构的部署拓扑环境，只通过服务的名字就能够使用服务，提供了一种服务发布与查找的协调机制。服务发现除了提供服务注册、目录和查找三大关键特性，还需要能够提供健康监控、多种查询、实时更新和高可用性等。</p><p><strong>对于移动客户端来说</strong>，服务发现用于模块间解耦，通过接口或者特定注解标识，获取对应的实现类</p><p>感谢：</p><p><a href="https://juejin.cn/post/6844904162992357383">https://juejin.cn/post/6844904162992357383</a></p><p><a href="https://juejin.cn/post/7031042407504281630">https://juejin.cn/post/7031042407504281630</a></p><p><a href="https://www.jianshu.com/p/3a3edbcd8f24">https://www.jianshu.com/p/3a3edbcd8f24</a></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android Gradle Plugin 入门</title>
      <link href="/2021/08/08/Android-Gradle-Plugin-%E5%85%A5%E9%97%A8/"/>
      <url>/2021/08/08/Android-Gradle-Plugin-%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<p>Android Gradle Plugin 简称 AGP，目前不少公司使用，来完成一些自动化功能。利用提供的 Transform API 来完成字节码插桩。</p><span id="more"></span><h1 id="Gradle插件开发"><a href="#Gradle插件开发" class="headerlink" title="Gradle插件开发"></a>Gradle插件开发</h1><table><thead><tr><th align="center">方式</th><th align="left">说明</th></tr></thead><tbody><tr><td align="center">build script 脚本</td><td align="left">把插件 写在 build.gradle文件中，一般用于简单的逻辑，只对该build.gradle可见</td></tr><tr><td align="center">buildSrc 目录</td><td align="left">将插件源码放在目录buildSrc/src/main/ 中，只对该项目可见</td></tr><tr><td align="center">独立项目</td><td align="left">独立的java项目/模块，可以将文件包发布到仓库（Jcenter、MavenCenter），方便其他项目引入使用</td></tr></tbody></table><h2 id="方式一："><a href="#方式一：" class="headerlink" title="方式一："></a>方式一：</h2><p>实例：获取git-commit，在app的build.gradle文件中定义</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取 short git-commit  i</span></span><br><span class="line"><span class="keyword">def</span> gitSha() &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        String gitRev = <span class="string">&#x27;git rev-parse --short HEAD&#x27;</span>.execute(<span class="literal">null</span>,project.rootDir)</span><br><span class="line">        .text.trim()</span><br><span class="line">        <span class="keyword">if</span> (gitRev == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> GradleException(<span class="string">&quot;can&#x27;t get git rev, you should&#x27;&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> gitRev</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> GradleException(<span class="string">&quot;can&#x27;t get git rev, you should add ...&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="方式二："><a href="#方式二：" class="headerlink" title="方式二："></a>方式二：</h2><p>1、在项目的根目录下创建<code>buildSrc</code>目录，这个名字不能错，必须是<code>buildSrc</code>。创建完之后，rebuild一下工程，会在buildSrc下自动生成一些目录。（网上截图）</p><p><img src="/2021/08/08/Android-Gradle-Plugin-%E5%85%A5%E9%97%A8/202003151113054.png" alt="在这里插入图片描述"></p><p>2、在buildSrc目录下创建<code>build.gradle</code>文件，并编写代码</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//use java library</span></span><br><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;java-library&#x27;</span></span><br><span class="line"></span><br><span class="line">sourceSets &#123;</span><br><span class="line">    main&#123;</span><br><span class="line"><span class="comment">//      groovy&#123;</span></span><br><span class="line"><span class="comment">//            srcDir &#x27;src/main/groovy&#x27;</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line">        java&#123;</span><br><span class="line">            srcDir <span class="string">&#x27;src/main/java&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">        resources &#123;</span><br><span class="line">            srcDir <span class="string">&#x27;src/main/resources&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>配置说明：</strong></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;java-library&#x27;</span> <span class="comment">//使用java来编写插件就引入java库</span></span><br><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;groovy&#x27;</span>   <span class="comment">//使用groovy来编写插件就引入groovy库</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//源码配置</span></span><br><span class="line">srcDir <span class="string">&#x27;src/main/java&#x27;</span>    <span class="comment">//如果使用java就配置</span></span><br><span class="line">srcDir <span class="string">&#x27;src/main/groovy&#x27;</span>， <span class="comment">//如果使用groovy就配置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//资源配置</span></span><br><span class="line">srcDir <span class="string">&#x27;src/main/resources&#x27;</span></span><br></pre></td></tr></table></figure><p>3、在buildSrc目录下创建<code>src/main/java</code>目录，之后再创建插件的包名：<code>com.learn.plugin</code>，编写代码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.learn.plugin;</span><br><span class="line"><span class="keyword">import</span> org.gradle.api.Plugin;</span><br><span class="line"><span class="keyword">import</span> org.gradle.api.Project;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyPlugin</span> <span class="keyword">implements</span> <span class="title">Plugin</span>&lt;<span class="title">Project</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(Project project)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;&gt;&gt;&gt; 自定义插件 MyPlugin&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> 4、在buildSrc目录下创建src/main/resources目录，在resources目录下创建目录META-INF/gradle-plugins目录，最后在该目录下编写插件属性文件com.learn.plugin.properties文件</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">/**</span></span><br><span class="line"> <span class="attr">*属性文件的命名规则是：</span></span><br><span class="line"> <span class="attr">*名称是创建的插件的包名，然后以.properties后缀结尾</span></span><br><span class="line"> <span class="attr">*文件中的implementation-class用来指定插件实现类。</span></span><br><span class="line"> <span class="meta">*文件名就是插件名，即在宿主中使用插件时的apply</span> <span class="string">plugin 后的参数</span></span><br><span class="line"> <span class="attr">*/</span></span><br><span class="line"></span><br><span class="line"><span class="meta">implementation-class</span>=<span class="string">com.learn.plugin.MyPlugin</span></span><br></pre></td></tr></table></figure><p>5、使用插件,  在app模块下的build.gradle中引入插件：</p><p><code>apply plugin: &#39;com.learn.plugin</code>，这里引入的插件名就是插件的包名。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;com.android.application&#x27;</span></span><br><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;com.learn.plugin&#x27;</span> <span class="comment">//引用自定义的插件</span></span><br><span class="line"></span><br><span class="line">....</span><br></pre></td></tr></table></figure><p>6、测试插件<br>点击Android studio右上角的 sync按钮或者build项目，观察输入台：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:compileJava UP-TO-DATE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:compileGroovy NO-SOURCE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:processResources UP-TO-DATE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:classes UP-TO-DATE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:jar UP-TO-DATE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:assemble UP-TO-DATE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:compileTestJava NO-SOURCE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:compileTestGroovy NO-SOURCE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:processTestResources NO-SOURCE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:check UP-TO-DATE</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Task :buildSrc:build UP-TO-DATE</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash"> Configure project :app</span></span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; 自定义插件 MyPlugin==========</span></span><br></pre></td></tr></table></figure><h2 id="方式三："><a href="#方式三：" class="headerlink" title="方式三："></a>方式三：</h2><p> 在当前项目下，创建一个module选中 Java Library，命名为 Plugin（module名称随意）</p><p>1、在module的src/main/java下创建 自己的包名，以及插件类</p><p><img src="/2021/08/08/Android-Gradle-Plugin-%E5%85%A5%E9%97%A8/image-20210804230453329.png" alt="image-20210804230453329"></p><p>2、添加gradle Sdk的依赖，因为要使用gradle的API</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation fileTree(<span class="attr">dir:</span> <span class="string">&#x27;libs&#x27;</span>, <span class="attr">include:</span> [<span class="string">&#x27;*.jar&#x27;</span>])</span><br><span class="line">    implementation gradleApi() <span class="comment">//依赖 gradle sdk</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//依赖Android的gradle插件，使用他的api获取编译完成的apk信息</span></span><br><span class="line">    implementation <span class="string">&quot;com.android.tools.build:gradle:3.5.4&quot;</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、在上面创建的包下，创建java类 编写插件代码。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 定义插件</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JiaguPlugin</span> <span class="keyword">implements</span> <span class="title">Plugin</span>&lt;<span class="title">Project</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">apply</span><span class="params">(Project project)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//创建 插件扩展，用来配置一些信息</span></span><br><span class="line">        ProcessLiveExt liveExt = project.getExtensions().create(<span class="string">&quot;live&quot;</span>, ProcessLiveExt.class);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//在gradle分析完build.gradle文件之后，回调。 此时才能获取到配置的信息</span></span><br><span class="line">        project.afterEvaluate(<span class="keyword">new</span> Action&lt;Project&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(Project project)</span> </span>&#123;</span><br><span class="line">                String username = jiaguExt.getUsername();</span><br><span class="line">                String password = jiaguExt.getPassword();</span><br><span class="line">             </span><br><span class="line">                <span class="comment">//创建任务名，再侧边栏gradle下会显示出来.</span></span><br><span class="line">                 <span class="comment">//当点击gralde里的processLive任务时，会执行ProcessLiveTask里的代码</span></span><br><span class="line">                project.getTasks().create(<span class="string">&quot;processLive&quot;</span> , ProcessLiveTask.class, <span class="string">&quot;processLive&quot;</span>, liveExt);</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面的字符串“jiagu”就是在 build.gralde文件中，定义的节点配置名</span></span><br><span class="line">live &#123;</span><br><span class="line">    username <span class="string">&#x27;hanyaping&#x27;</span></span><br><span class="line">    password <span class="string">&#x27;372186554&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProcessLiveTask</span> <span class="keyword">extends</span> <span class="title">DefaultTask</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProcessLiveTask</span><span class="params">(String tag, ProcessLiveExt ext)</span> </span>&#123;</span><br><span class="line">        setGroup(<span class="string">&quot;brooks&quot;</span>);<span class="comment">//创建目录，把自定义任务放到同一个分组中</span></span><br><span class="line">        System.out.println(<span class="string">&quot;tag&quot;</span> + tag + <span class="string">&quot; &quot;</span> + ext);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">   <span class="comment">//点击侧边栏gradle里的processLive任务会执行这个方法 【TaskAction注解，就是调用入口】</span></span><br><span class="line">    <span class="meta">@TaskAction</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        getProject().exec(<span class="keyword">new</span> Action&lt;ExecSpec&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">execute</span><span class="params">(ExecSpec execSpec)</span> </span>&#123;</span><br><span class="line">                <span class="comment">//执行 jar命令</span></span><br><span class="line">                System.out.println(<span class="string">&quot;===========开始Live=================&quot;</span>);</span><br><span class="line">                execSpec.commandLine(<span class="string">&quot;bash&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;ls ./&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>后续和 方式二 类同。</p><p>感谢：</p><p><a href="https://blog.csdn.net/u010982507/article/details/104875115">https://blog.csdn.net/u010982507/article/details/104875115</a></p>]]></content>
      
      
      <categories>
          
          <category> Gradle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Gradle </tag>
            
            <tag> Plugin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android Gradle 常用命令</title>
      <link href="/2021/08/06/Android-Gradle-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2021/08/06/Android-Gradle-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="1、Gradle-查询命令"><a href="#1、Gradle-查询命令" class="headerlink" title="1、Gradle 查询命令"></a>1、Gradle 查询命令</h2><h3 id="1）查看主要任务"><a href="#1）查看主要任务" class="headerlink" title="1）查看主要任务"></a>1）查看主要任务</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew tasks</span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="2）查看所有任务，包括缓存任务等"><a href="#2）查看所有任务，包括缓存任务等" class="headerlink" title="2）查看所有任务，包括缓存任务等"></a>2）查看所有任务，包括缓存任务等</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew tasks --all</span><br></pre></td></tr></table></figure><h3 id="3）获取项目列表"><a href="#3）获取项目列表" class="headerlink" title="3）获取项目列表"></a>3）获取项目列表</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">./gradlew -q projects</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Root project</span><br><span class="line">------------------------------------------------------------</span><br><span class="line">Root project <span class="string">&#x27;brooks_android&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:app&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:live&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:baseLibrary&#x27;</span></span><br><span class="line">|    \--- Project <span class="string">&#x27;:baseLibrary:javassist-aop-gradle&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:commonsdk&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:data&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:greendaogenerator&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:libs&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:livecommon&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:livepush&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:openlivesdk&#x27;</span></span><br><span class="line">+--- Project <span class="string">&#x27;:pullToRefreshLibrary&#x27;</span></span><br><span class="line">\--- Project <span class="string">&#x27;:views&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4）获取依赖列表"><a href="#4）获取依赖列表" class="headerlink" title="4）获取依赖列表"></a>4）获取依赖列表</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew <span class="attr">app:</span>dependencies </span><br></pre></td></tr></table></figure><h2 id="2、Gradle-构建命令"><a href="#2、Gradle-构建命令" class="headerlink" title="2、Gradle 构建命令"></a>2、Gradle 构建命令</h2><p>Gradle 提供了一系列的快速构建命令来替代 IDE 的可视化构建操作，如我们最常用的 clean、build 等等。</p><p>需要注意的是，build 命令会把 debug、release 环境的包都构建出来。</p><h3 id="1）查看构建版本"><a href="#1）查看构建版本" class="headerlink" title="1）查看构建版本"></a>1）查看构建版本</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew -v</span><br></pre></td></tr></table></figure><h3 id="2）清除-build-文件夹"><a href="#2）清除-build-文件夹" class="headerlink" title="2）清除 build 文件夹"></a>2）清除 build 文件夹</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean</span><br></pre></td></tr></table></figure><h3 id="3）检查依赖并编译打包"><a href="#3）检查依赖并编译打包" class="headerlink" title="3）检查依赖并编译打包"></a>3）检查依赖并编译打包</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew build</span><br></pre></td></tr></table></figure><h3 id="4）编译并安装-debug-包"><a href="#4）编译并安装-debug-包" class="headerlink" title="4）编译并安装 debug 包"></a>4）编译并安装 debug 包</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew installDebug</span><br></pre></td></tr></table></figure><h3 id="5）编译并打印日志"><a href="#5）编译并打印日志" class="headerlink" title="5）编译并打印日志"></a>5）编译并打印日志</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew build --info</span><br></pre></td></tr></table></figure><h3 id="6）编译并输出性能报告"><a href="#6）编译并输出性能报告" class="headerlink" title="6）编译并输出性能报告"></a>6）编译并输出性能报告</h3><p>性能报告一般在构建工程根目录build/reports/profile 下</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew build --profile</span><br></pre></td></tr></table></figure><h3 id="7）调试模式构建并打印堆栈日志"><a href="#7）调试模式构建并打印堆栈日志" class="headerlink" title="7）调试模式构建并打印堆栈日志"></a>7）调试模式构建并打印堆栈日志</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew build --info --debug --stacktrace</span><br></pre></td></tr></table></figure><h3 id="8）强制更新最新依赖，清除构建后再构建"><a href="#8）强制更新最新依赖，清除构建后再构建" class="headerlink" title="8）强制更新最新依赖，清除构建后再构建"></a>8）强制更新最新依赖，清除构建后再构建</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./gradlew clean build --refresh-dependencies</span><br></pre></td></tr></table></figure><h3 id="9）编译并打-Debug-包"><a href="#9）编译并打-Debug-包" class="headerlink" title="9）编译并打 Debug 包"></a>9）编译并打 Debug 包</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./gradlew assembleDebug</span><br><span class="line"></span><br><span class="line"># 简化版命令，取各个单词的首字母</span><br><span class="line">./gradlew aD</span><br></pre></td></tr></table></figure><h3 id="10）编译并打-Release-的包"><a href="#10）编译并打-Release-的包" class="headerlink" title="10）编译并打 Release 的包"></a>10）编译并打 Release 的包</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">./gradlew assembleRelease</span><br><span class="line"></span><br><span class="line"> # 简化版命令，取各个单词的首字母</span><br><span class="line">./gradlew aR</span><br></pre></td></tr></table></figure><h3 id="11）对某个module-的某个任务-taskName-运行"><a href="#11）对某个module-的某个任务-taskName-运行" class="headerlink" title="11）对某个module  的某个任务[taskName] 运行"></a>11）对某个module  的某个任务[taskName] 运行</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./<span class="attr">gradlew :</span><span class="attr">moduleName:</span>taskName</span><br></pre></td></tr></table></figure><p>感谢：<br><a href="https://juejin.cn/post/6844904122492125198">https://juejin.cn/post/6844904122492125198</a></p>]]></content>
      
      
      <categories>
          
          <category> Gradle </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Gradle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android ADB 常用命令</title>
      <link href="/2021/07/20/Android-ADB-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2021/07/20/Android-ADB-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="抓取系统log"><a href="#抓取系统log" class="headerlink" title="抓取系统log"></a>抓取系统log</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">手机拨号界面输入： &#x27;*#*# 284 #*#*&#x27; #小米手机支持</span><br></pre></td></tr></table></figure><p>系统会自动提示：“正在生成bug报告，大概需要1分钟”,文件再sdcard下。包含bugreport内容</p><span id="more"></span><h2 id="错误报告获取"><a href="#错误报告获取" class="headerlink" title="错误报告获取"></a>错误报告获取</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb bugreport &lt;parh&gt;   #导出到指定路径</span><br></pre></td></tr></table></figure><p>导出后是一个zip文件，包含data/anr信息</p><h1 id="获取设备信息"><a href="#获取设备信息" class="headerlink" title="获取设备信息"></a>获取设备信息</h1><h2 id="查询手机发货地址"><a href="#查询手机发货地址" class="headerlink" title="查询手机发货地址"></a>查询手机发货地址</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.hw.country  #查询手机发货地址</span><br></pre></td></tr></table></figure><h2 id="查询CPU位数"><a href="#查询CPU位数" class="headerlink" title="查询CPU位数"></a>查询CPU位数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.product.cpu.abi  #查询CPU是32位还是64位</span><br></pre></td></tr></table></figure><h2 id="查询EMUI版本"><a href="#查询EMUI版本" class="headerlink" title="查询EMUI版本"></a>查询EMUI版本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.build.version.emui #查询EMUI版本</span><br></pre></td></tr></table></figure><h2 id="查询设备制造商"><a href="#查询设备制造商" class="headerlink" title="查询设备制造商"></a>查询设备制造商</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.product.manufacturer#查询设备制造商</span><br></pre></td></tr></table></figure><h2 id="查询手机品牌"><a href="#查询手机品牌" class="headerlink" title="查询手机品牌"></a>查询手机品牌</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.product.brand#查询手机品牌</span><br></pre></td></tr></table></figure><h2 id="查询手机内部代号"><a href="#查询手机内部代号" class="headerlink" title="查询手机内部代号"></a>查询手机内部代号</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.product.model#查询手机内部代号</span><br></pre></td></tr></table></figure><h2 id="查询设备名称"><a href="#查询设备名称" class="headerlink" title="查询设备名称"></a>查询设备名称</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.product.name#查询设备名称</span><br></pre></td></tr></table></figure><h2 id="查询设备序列号"><a href="#查询设备序列号" class="headerlink" title="查询设备序列号"></a>查询设备序列号</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.serialno#查询设备序列号</span><br></pre></td></tr></table></figure><h2 id="获取CPU序列号"><a href="#获取CPU序列号" class="headerlink" title="获取CPU序列号"></a>获取CPU序列号</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /proc/cpuinfo</span><br></pre></td></tr></table></figure><h2 id="获取CPU核数"><a href="#获取CPU核数" class="headerlink" title="获取CPU核数"></a>获取CPU核数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /proc/cpuinfo</span><br><span class="line"></span><br><span class="line">processor: 0</span><br><span class="line">BogoMIPS: 38.40</span><br><span class="line">Features: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp uscat ilrcpc flagm</span><br><span class="line">CPU implementer: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant: 0x0</span><br><span class="line">CPU part: 0xd4c</span><br><span class="line">CPU revision: 0</span><br><span class="line"></span><br><span class="line">processor: 1</span><br><span class="line">BogoMIPS: 38.40</span><br><span class="line">Features: fp asimd evtstrm aes pmull sha1 sha2 crc32 atomics fphp asimdhp cpuid asimdrdm lrcpc dcpop asimddp uscat ilrcpc flagm</span><br><span class="line">CPU implementer: 0x41</span><br><span class="line">CPU architecture: 8</span><br><span class="line">CPU variant: 0x0</span><br><span class="line">CPU part: 0xd4c</span><br><span class="line">CPU revision: 0</span><br></pre></td></tr></table></figure><h2 id="获取应用CPU负载率"><a href="#获取应用CPU负载率" class="headerlink" title="获取应用CPU负载率"></a>获取应用CPU负载率</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">adb shell top  #查看对应进程cpu负载率，除以核数。（127 / 700 = 18.1%）</span><br><span class="line"></span><br><span class="line">Tasks: 384 total,   2 running, 382 sleeping,   0 stopped,   0 zombie</span><br><span class="line">  Mem:    10785M total,    10367M used,      418M free,       21M buffers</span><br><span class="line"> Swap:     4095M total,        0M used,     4095M free,     3409M cached</span><br><span class="line"><span class="meta">700%</span><span class="bash">cpu 153%user   3%nice 131%sys 357%idle  32%iow  16%irq   9%sirq   0%host</span></span><br><span class="line"> </span><br><span class="line">   PID USER         PR  NI VIRT  RES  SHR S[%CPU] %MEM     TIME+ ARGS                                                                 </span><br><span class="line"> 7443 u10_a94      20   0  15G 188M  84M S  127   1.7  77:34.03 com.car.guard.sentry</span><br><span class="line"> 3712 u10_system   20   0  15G 184M  52M S 37.0   1.7  37:00.36 com.xiao.wakeupservice</span><br><span class="line">  284 logd         30  10  10G  15M 3.3M S 20.3   0.1  13:28.24 logd</span><br><span class="line">  864 cameraserver 20   0  11G  28M  24M S 11.6   0.2   7:09.09 cameraserver</span><br><span class="line"> 1205 u10_a43      20   0  16G 395M 295M S  8.6   3.6   9:09.33 com.car.map</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="获取android-id"><a href="#获取android-id" class="headerlink" title="获取android_id"></a>获取android_id</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell settings get secure android_id</span><br></pre></td></tr></table></figure><h2 id="查询Android系统版本"><a href="#查询Android系统版本" class="headerlink" title="查询Android系统版本"></a>查询Android系统版本</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop ro.build.version.release #查询手机Android系统版本</span><br></pre></td></tr></table></figure><h2 id="查询设备分辨率"><a href="#查询设备分辨率" class="headerlink" title="查询设备分辨率"></a>查询设备分辨率</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys window displays</span><br></pre></td></tr></table></figure><h2 id="查看设备屏幕密度"><a href="#查看设备屏幕密度" class="headerlink" title="查看设备屏幕密度"></a>查看设备屏幕密度</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell wm density</span><br></pre></td></tr></table></figure><h2 id="查看显示屏参数"><a href="#查看显示屏参数" class="headerlink" title="查看显示屏参数"></a>查看显示屏参数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys window displays</span><br><span class="line"></span><br><span class="line">WINDOW MANAGER DISPLAY CONTENTS (dumpsys window displays)</span><br><span class="line">  Display: mDisplayId=0</span><br><span class="line">    init=1080x1920 420dpi cur=1080x1920 app=1080x1794 rng=1080x1017-1810x1731</span><br><span class="line">    deferred=false layoutNeeded=false</span><br></pre></td></tr></table></figure><p>其中 <code>mDisplayId</code> 为 显示屏编号，<code>init</code> 是初始分辨率和屏幕密度，<code>app</code> 的高度比 <code>init</code> 里的要小，表示屏幕底部有虚拟按键，高度为 1920 - 1794 = 126px 合 42dp。</p><h2 id="查看UI绘制的各个层级信息"><a href="#查看UI绘制的各个层级信息" class="headerlink" title="查看UI绘制的各个层级信息"></a>查看UI绘制的各个层级信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys SurfaceFlinger</span><br></pre></td></tr></table></figure><h2 id="显示wifi信息"><a href="#显示wifi信息" class="headerlink" title="显示wifi信息"></a>显示wifi信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys wifi</span><br></pre></td></tr></table></figure><h2 id="磁盘相关信息"><a href="#磁盘相关信息" class="headerlink" title="磁盘相关信息"></a>磁盘相关信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys diskstats</span><br></pre></td></tr></table></figure><h2 id="电池相关信息"><a href="#电池相关信息" class="headerlink" title="电池相关信息"></a>电池相关信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys battery</span><br></pre></td></tr></table></figure><h2 id="显示accounts信息"><a href="#显示accounts信息" class="headerlink" title="显示accounts信息:"></a>显示accounts信息:</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys account</span><br></pre></td></tr></table></figure><h2 id="SELinux运行模式切换"><a href="#SELinux运行模式切换" class="headerlink" title="SELinux运行模式切换"></a>SELinux运行模式切换</h2><p>SELinux是Security Enhanced Linux的缩写，是安全强化的Linux，它是由美国国家安全局 (NSA) 开发的，整合到Linux核心的一个模块，是对于强制访问控制（MAC）的实现，是 Linux历史上最杰出的新安全子系统，提供了比传统的UNIX权限更好的访问控制。在SELinux的访问控制体系的限制下，进程只能访问那些在他的任务中所需要文件。</p><p>java.io.FileNotFoundException: /data/user/10/[package]/files/Movies/localvideo.mp4: open failed: EACCES (Permission denied)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">进入adb shell下,修改为宽容模式,解决权限问题</span></span><br><span class="line">adb shell setenforce 0 #转成 Permissive 宽容模式</span><br><span class="line">adb shell setenforce 1 #转成 Enforcing 强制模式</span><br><span class="line"></span><br><span class="line">adb shell getenforce #获取当前模式</span><br></pre></td></tr></table></figure><h2 id="adb切换屏幕方向"><a href="#adb切换屏幕方向" class="headerlink" title="adb切换屏幕方向"></a>adb切换屏幕方向</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell settings put system accelerometer_rotation 0</span><br><span class="line">adb shell settings put system user_rotation 1  # 1 / 3</span><br></pre></td></tr></table></figure><h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><h2 id="显示当前栈顶Activity信息"><a href="#显示当前栈顶Activity信息" class="headerlink" title="显示当前栈顶Activity信息"></a>显示当前栈顶Activity信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys activity top</span><br></pre></td></tr></table></figure><h2 id="显示当前Activity调用栈信息"><a href="#显示当前Activity调用栈信息" class="headerlink" title="显示当前Activity调用栈信息"></a>显示当前Activity调用栈信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys activity activities | grep &#x27;* ActivityRecord&#123;&#x27;</span><br><span class="line"></span><br><span class="line">adb shell dumpsys window  | grep mCurrentFocus</span><br></pre></td></tr></table></figure><h2 id="当前与用户交互的activity"><a href="#当前与用户交互的activity" class="headerlink" title="当前与用户交互的activity"></a>当前与用户交互的activity</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">方法一</span></span><br><span class="line">adb shell dumpsys activity activities | sed -En -e &#x27;/Running activities/,/Run #0/p&#x27;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">方法二</span></span><br><span class="line">adb shell dumpsys activity | grep -i run</span><br></pre></td></tr></table></figure><h2 id="显示已安装应用列表"><a href="#显示已安装应用列表" class="headerlink" title="显示已安装应用列表"></a>显示已安装应用列表</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell pm list package ｜ grep live</span><br></pre></td></tr></table></figure><h2 id="显示包详情信息"><a href="#显示包详情信息" class="headerlink" title="显示包详情信息"></a>显示包详情信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys package &lt;packagename&gt;#adb shell dumpsys package com.brooks.live</span><br></pre></td></tr></table></figure><h2 id="显示APK版本信息"><a href="#显示APK版本信息" class="headerlink" title="显示APK版本信息"></a>显示APK版本信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">已安装情况下</span></span><br><span class="line">adb shell dumpsys package com.brooks.live | grep version</span><br><span class="line"></span><br><span class="line">versionCode=1000004 minSdk=30 targetSdk=31</span><br><span class="line">versionName=1.0.4</span><br><span class="line">signatures=PackageSignatures&#123;85fc893 version:2, signatures:[b4addb29], past signatures:[]&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">未安装情况下</span></span><br><span class="line">aapt dump badging live.apk</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="显示app内部目录"><a href="#显示app内部目录" class="headerlink" title="显示app内部目录"></a>显示app内部目录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">adb shell run-as &lt;package&gt; ls</span><br><span class="line"></span><br><span class="line">app_libs</span><br><span class="line">app_textures</span><br><span class="line">app_webview</span><br><span class="line">cache</span><br><span class="line">databases</span><br><span class="line">files</span><br><span class="line">lib</span><br><span class="line">lib-main</span><br><span class="line">shared_prefs</span><br></pre></td></tr></table></figure><h2 id="文件导入导出"><a href="#文件导入导出" class="headerlink" title="文件导入导出"></a>文件导入导出</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb push [path] [device path]   #导入</span><br><span class="line">adb pull [device path] [path]#导出</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> adb push ~/work/test.log  /sdcard</span> </span><br><span class="line"><span class="meta">#</span><span class="bash"> adb pull /sdcard/tracker.txt ~/work</span></span><br></pre></td></tr></table></figure><h2 id="Monkey-压力测试"><a href="#Monkey-压力测试" class="headerlink" title="Monkey 压力测试"></a>Monkey 压力测试</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb shell monkey -p &lt;packagename&gt; -s 200 --throttle 50 --monitor-native-crashes -v -v 5000</span><br><span class="line"></span><br><span class="line">adb shell monkey -p &lt;packagename&gt; -s 500 --ignore-crashes --ignore-timeouts --monitor-native-crashes -v -v 10000 &gt;  ./java_monkey_log.txt   </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="生成签名"><a href="#生成签名" class="headerlink" title="生成签名"></a>生成签名</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> cmd：生成签名：</span></span><br><span class="line">keytool -genkey -alias android.keystore -keyalg RSA -validity 20000 -keystore android.keystore </span><br></pre></td></tr></table></figure><h2 id="标准hprof-conv文件转换"><a href="#标准hprof-conv文件转换" class="headerlink" title="标准hprof-conv文件转换"></a>标准hprof-conv文件转换</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">Android studio 转换 hprof-conv文件</span></span><br><span class="line">hprof-conv.exe com.brooks.car.hprof convert.hprof</span><br></pre></td></tr></table></figure><h2 id="设备总内存获取"><a href="#设备总内存获取" class="headerlink" title="设备总内存获取"></a>设备总内存获取</h2><p>内存不足时：会出现异常，卡顿、触发LMK杀死应用,【IO流 读取 /proc/meminfo文件信息 第一行就是】</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat proc/meminfo</span>      </span><br><span class="line">MemTotal:        1530888 kB</span><br><span class="line">MemFree:          292248 kB</span><br><span class="line">MemAvailable:     614972 kB</span><br><span class="line">Buffers:            4192 kB</span><br><span class="line">Cached:           368056 kB</span><br><span class="line">SwapCached:            0 kB</span><br><span class="line">Active:           885152 kB</span><br></pre></td></tr></table></figure><h2 id="获取应用内存占用"><a href="#获取应用内存占用" class="headerlink" title="获取应用内存占用"></a>获取应用内存占用</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb shell procrank  #查看PPS数值</span><br><span class="line"></span><br><span class="line"> PID       Vss      Rss      Pss      Uss     Swap    PSwap    USwap    ZSwap  cmdline</span><br><span class="line"> 1205  17113044K  407852K  294355K  288540K       0K       0K       0K       0K  com.car.map</span><br><span class="line">  790  18023492K  362496K  210291K  189340K       0K       0K       0K       0K  system_server</span><br><span class="line"> 3712  15599836K  192076K  105658K  103276K       0K       0K       0K       0K  com.iv.wakeupservice</span><br><span class="line"> 7443  16020644K  186840K   89517K   83484K       0K       0K       0K       0K  com.car.guard.sentry</span><br></pre></td></tr></table></figure><h2 id="Dvm最大可用内存："><a href="#Dvm最大可用内存：" class="headerlink" title="Dvm最大可用内存："></a>Dvm最大可用内存：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop | grep dalvik.vm.heapsize</span><br></pre></td></tr></table></figure><h2 id="单个程序限制最大可用内存："><a href="#单个程序限制最大可用内存：" class="headerlink" title="单个程序限制最大可用内存："></a>单个程序限制最大可用内存：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell getprop|grep heapgrowthlimit</span><br></pre></td></tr></table></figure><h2 id="强制关闭一个应用程序"><a href="#强制关闭一个应用程序" class="headerlink" title="强制关闭一个应用程序:"></a>强制关闭一个应用程序:</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell ps -ef | grep &lt;packagename&gt; #查看应用进程</span><br><span class="line"></span><br><span class="line">adb shell am force-stop &lt;packagename&gt; #杀死应用进程</span><br></pre></td></tr></table></figure><h2 id="查看占用内存前6的app"><a href="#查看占用内存前6的app" class="headerlink" title="查看占用内存前6的app"></a>查看占用内存前6的app</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell top -m 6</span><br></pre></td></tr></table></figure><h2 id="截屏命令："><a href="#截屏命令：" class="headerlink" title="截屏命令："></a>截屏命令：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell screencap -p /sdcard/screen.png</span><br><span class="line">adb pull /sdcard/screen.png</span><br><span class="line">adb shell rm /sdcard/screen.png</span><br></pre></td></tr></table></figure><h2 id="输入文本"><a href="#输入文本" class="headerlink" title="输入文本"></a>输入文本</h2><p>在焦点处于某文本框时，可以通过 <code>input</code> 命令来输入文本。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell input text hello #hello会出现在文本框中</span><br></pre></td></tr></table></figure><h2 id="获取指定App启动耗时"><a href="#获取指定App启动耗时" class="headerlink" title="获取指定App启动耗时"></a>获取指定App启动耗时</h2><p>1、查看Logcat</p><p>在Android Studio Logcat中<strong>过滤关键字“Displayed”</strong>，可以看到对应的冷启动耗时日志。</p><p>2、adb shell</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -W [packageName]/[MainActivity]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">ThisTime</span></span><br><span class="line">最后一个Activity启动耗时。</span><br><span class="line"><span class="meta">#</span><span class="bash">TotalTime</span></span><br><span class="line">所有Activity启动耗时。</span><br><span class="line"><span class="meta">#</span><span class="bash">WaitTime</span></span><br><span class="line">AMS启动Activity的总耗时。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>一般来说，只需查看得到的<strong>TotalTime</strong>，即应用的启动时间，其包括 创建进程 + Application初始化 + Activity初始化到界面显示 的过程。</p><h2 id="获取指定App内存信息"><a href="#获取指定App内存信息" class="headerlink" title="获取指定App内存信息"></a>获取指定App内存信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys meminfo &lt;pid&gt; #输出指定pid的某一进程</span><br><span class="line">adb shell dumpsys meminfo --package &lt;packagename&gt; #输出指定包名的进程，可能包含多个进程</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> adb shell dumpsys meminfo com.brooks.test</span></span><br><span class="line">Applications Memory Usage (in Kilobytes):</span><br><span class="line">Uptime: 68996621 Realtime: 68996621</span><br><span class="line"></span><br><span class="line">** MEMINFO in pid 7916 [com.brooks.test] **</span><br><span class="line">                   Pss  Private  Private     Swap      Rss     Heap     Heap     Heap</span><br><span class="line">                 Total    Dirty    Clean    Dirty    Total     Size    Alloc     Free</span><br><span class="line">                ------   ------   ------   ------   ------   ------   ------   ------</span><br><span class="line">  Native Heap    10890    10848        0        0    14292    18160    16525     1634</span><br><span class="line">  Dalvik Heap     2545     2348        0        0    17612     6568     3284     3284</span><br><span class="line">  Dalvik Other    10825    10728        0        0    17180                           </span><br><span class="line">  </span><br><span class="line"> ......</span><br><span class="line"> </span><br><span class="line"> App Summary</span><br><span class="line">                       Pss(KB)                        Rss(KB)</span><br><span class="line">                        ------                         ------</span><br><span class="line">           Java Heap:     4132                          21992</span><br><span class="line">         Native Heap:    10848                          14292</span><br><span class="line">                Code:    10340                         118912</span><br><span class="line">               Stack:      552                            564</span><br><span class="line">            Graphics:    49668                          49668</span><br><span class="line">       Private Other:    11256</span><br><span class="line">              System:     7404</span><br><span class="line">             Unknown:                                   21904</span><br><span class="line"> </span><br><span class="line">           [TOTAL PSS:    94200]            TOTAL RSS:   227332      TOTAL SWAP (KB):        0</span><br><span class="line">.....</span><br><span class="line"> </span><br></pre></td></tr></table></figure><h2 id="获取指定App帧率"><a href="#获取指定App帧率" class="headerlink" title="获取指定App帧率"></a>获取指定App帧率</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">adb shell dumpsys gfxinfo &lt;package&gt; framestats</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> adb shell dumpsys gfxinfo com.brooks.test framestats</span></span><br><span class="line">Applications Graphics Acceleration Info:</span><br><span class="line">Uptime: 12617763 Realtime: 12617763</span><br><span class="line"></span><br><span class="line">** Graphics info for pid 10930 [com.brooks.test] **</span><br><span class="line"></span><br><span class="line">Stats since: 10906446516775ns</span><br><span class="line">Total frames rendered: 33</span><br><span class="line">Janky frames: 5 (15.15%) ##帧率</span><br><span class="line">50th percentile: 5ms</span><br><span class="line">90th percentile: 22ms</span><br><span class="line">95th percentile: 44ms</span><br><span class="line">99th percentile: 61ms</span><br><span class="line">.......</span><br></pre></td></tr></table></figure><h2 id="修改设备分辨率"><a href="#修改设备分辨率" class="headerlink" title="修改设备分辨率"></a>修改设备分辨率</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb shell wm size #查看当前分辨率</span><br><span class="line">adb shell wm size 1920x1280 #修改分辨率</span><br><span class="line"></span><br><span class="line">adb shell wm density  #查看dpi</span><br><span class="line">adb shell wm density 320 #修改dpi</span><br></pre></td></tr></table></figure><h2 id="修改设备时间"><a href="#修改设备时间" class="headerlink" title="修改设备时间"></a>修改设备时间</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb root </span><br><span class="line">adb shell date &quot;052513302022.0&quot; #5月25号，下午1点30分</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="修改日志缓存区大小"><a href="#修改日志缓存区大小" class="headerlink" title="修改日志缓存区大小"></a>修改日志缓存区大小</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -g #命令进行查看缓冲区</span><br><span class="line"></span><br><span class="line">adb logcat -G 5M #$修改大小,临时生效</span><br><span class="line"></span><br><span class="line">adb shell setprop persist.logd.size 5M #永久生效,需重启</span><br></pre></td></tr></table></figure><h2 id="修改日志缓存区大小-1"><a href="#修改日志缓存区大小-1" class="headerlink" title="修改日志缓存区大小"></a>修改日志缓存区大小</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -g #命令进行查看缓冲区</span><br><span class="line"></span><br><span class="line">adb logcat -G 5M #$修改大小,临时生效</span><br><span class="line"></span><br><span class="line">adb shell setprop persist.logd.size 5M #永久生效,需重启</span><br></pre></td></tr></table></figure><h1 id="adb-Logcat"><a href="#adb-Logcat" class="headerlink" title="adb Logcat"></a>adb Logcat</h1><h2 id="查看webview-log"><a href="#查看webview-log" class="headerlink" title="查看webview log"></a>查看webview log</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -s chromium</span><br></pre></td></tr></table></figure><h2 id="导出Log"><a href="#导出Log" class="headerlink" title="导出Log"></a>导出Log</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb logcat -s *:V &gt; ./live.log #全量log</span><br><span class="line">adb logcat -s *:E &gt; ./live.log #Error级别log</span><br><span class="line">adb logcat -s *:F &gt; ./live.log #Fatal级别log</span><br></pre></td></tr></table></figure><h2 id="过滤Log"><a href="#过滤Log" class="headerlink" title="过滤Log"></a>过滤Log</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">adb logcat | grep PK</span><br><span class="line">adb logcat | grep -i PK  #忽略大小写</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">获取指定包名的<span class="built_in">log</span></span></span><br><span class="line">adb logcat --pid=$(adb shell pidof -s com.mi.XXX)</span><br></pre></td></tr></table></figure><h2 id="adb无线调试"><a href="#adb无线调试" class="headerlink" title="adb无线调试"></a>adb无线调试</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">adb connect &lt;手机ip&gt;:5555  <span class="comment">#只要手机不重启，后面就可以不用usb线连接手机了，直接通过网络adb就可以</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">如果重复以上步骤还是Offline的话，使用USB 线将设备与电脑连接。应确保连接成功（可运行 adb devices 看是否能列出该设备）。让设备在 5555 端口监听 TCP/IP 连接，PC端命令行输入：</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> adb tcpip 5555</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">断开连接</span></span><br><span class="line">adb disconnect &lt;手机ip&gt;:5555</span><br></pre></td></tr></table></figure><h2 id="adb-shell-prop"><a href="#adb-shell-prop" class="headerlink" title="adb shell prop"></a>adb shell prop</h2><p>需要root, 设置属性值,便于调试</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell setprop propname propvalue</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> adb shell setprop live.open.check <span class="literal">false</span> <span class="comment">#设置属性live.open.check</span></span></span><br></pre></td></tr></table></figure><h1 id="adb-启动"><a href="#adb-启动" class="headerlink" title="adb 启动"></a>adb 启动</h1><h2 id="启动activity"><a href="#启动activity" class="headerlink" title="启动activity"></a>启动activity</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -n ｛package｝/｛全类名activity&#125;</span><br><span class="line">adb shell am start -a  &#123; Action名称 &#125;  -d  &#123;参数&#125;</span><br></pre></td></tr></table></figure><h2 id="启动浏览器"><a href="#启动浏览器" class="headerlink" title="启动浏览器"></a>启动浏览器</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -n com.android.browser/com.android.browser.BrowserActivity  #启动浏览器</span><br><span class="line">adb shell am start -a android.intent.action.VIEW -d http://www.baidu.com    #启动浏览器并打开指定网页</span><br></pre></td></tr></table></figure><h2 id="启动-Camera"><a href="#启动-Camera" class="headerlink" title="启动 Camera"></a>启动 Camera</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -n com.android.camera/com.android.camera.Camera</span><br></pre></td></tr></table></figure><h2 id="拨打电话"><a href="#拨打电话" class="headerlink" title="拨打电话"></a>拨打电话</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell  am start -a  android.intent.action.CALL -d tel:10086</span><br></pre></td></tr></table></figure><h2 id="启动-google-map-直接定位到北京"><a href="#启动-google-map-直接定位到北京" class="headerlink" title="启动 google map 直接定位到北京"></a>启动 google map 直接定位到北京</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -a android.intent.action.VIEW geo:0,0?q=beijing</span><br></pre></td></tr></table></figure><h2 id="启动activity通过scheme"><a href="#启动activity通过scheme" class="headerlink" title="启动activity通过scheme"></a>启动activity通过scheme</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell am start -d  autocat://findcar</span><br></pre></td></tr></table></figure><h2 id="关闭activity"><a href="#关闭activity" class="headerlink" title="关闭activity"></a>关闭activity</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb shell am force-stop ｛package｝</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 如：关闭浏览器</span></span><br><span class="line">adb shell am force-stop com.android.browser</span><br></pre></td></tr></table></figure><h2 id="启动service"><a href="#启动service" class="headerlink" title="启动service"></a>启动service</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">adb shell am startservice -n ｛包名｝/｛包名｝.&#123;服务名&#125;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">启动应用中一个service</span></span><br><span class="line">adb shell am startservice -n com.android.traffic/com.android.traffic.maniservice</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">启动service,传入int参数</span></span><br><span class="line">adb shell am startservice -a｛action&#125; --ei type 1</span><br></pre></td></tr></table></figure><h2 id="关闭service"><a href="#关闭service" class="headerlink" title="关闭service"></a>关闭service</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell am stop-service -a &#123;action&#125;</span><br><span class="line"></span><br><span class="line">adb shell am stop-service -n ｛包名｝/｛包名｝.&#123;服务名&#125;</span><br></pre></td></tr></table></figure><h2 id="卸载应用程序："><a href="#卸载应用程序：" class="headerlink" title="卸载应用程序："></a>卸载应用程序：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall｛package｝</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">如：卸载浏览器</span></span><br><span class="line">adb uninstall com.android.browser</span><br></pre></td></tr></table></figure><h2 id="发送broadcast："><a href="#发送broadcast：" class="headerlink" title="发送broadcast："></a>发送broadcast：</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">adb shell am broadcast -a &lt;广播动作&gt;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">如：发送一个网络变化的广播</span></span><br><span class="line">adb shell am broadcast -a android.net.conn.CONNECTIVITY_CHANGE</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">静态注册,必须加-p指定包名</span></span><br><span class="line">adb shell am broadcast -a &quot;com.brooks.auto.status&quot; -p com.brooks.car -e topic &quot;brooks&quot; </span><br><span class="line">adb shell am broadcast -a &quot;com.brooks.auto.status&quot; -p com.brooks.car --es topic &quot;brooks&quot; </span><br></pre></td></tr></table></figure><h2 id="端口转发"><a href="#端口转发" class="headerlink" title="端口转发"></a>端口转发</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">adb shell am broadcast -a NotifyServiceStop</span><br><span class="line">adb forward tcp:12580 tcp:10086</span><br><span class="line">adb shell am broadcast -a NotifyServiceStart</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 111 &gt; a.txt  （向 aa.txt写入 “111”） 只第一行用&quot;&gt;&quot; ，换行用&quot;&gt;&gt;&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> ADB </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git 常用命令</title>
      <link href="/2021/07/18/Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/"/>
      <url>/2021/07/18/Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h1 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h1><h2 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">一轮回车到底，在用户目录下 .ssh文件夹下</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ssh-keygen -t rsa -C <span class="string">&quot;hyp.712@163.com&quot;</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">查看sh公钥</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat ~/.ssh/id_rsa.pub</span></span><br></pre></td></tr></table></figure><span id="more"></span> <h2 id="查看全部配置"><a href="#查看全部配置" class="headerlink" title="查看全部配置"></a>查看全部配置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config -l</span></span><br><span class="line"></span><br><span class="line">user.name=brooks</span><br><span class="line">user.email=hyp.712@163.com</span><br><span class="line">color.ui=auto</span><br><span class="line">http.postbuffer=524288000</span><br><span class="line">core.repositoryformatversion=0</span><br><span class="line">core.filemode=true</span><br><span class="line">core.bare=false</span><br><span class="line">core.logallrefupdates=true</span><br><span class="line">remote.origin.url=git@xxx.git</span><br><span class="line">remote.origin.fetch=+refs/heads/*:refs/remotes/origin/*</span><br><span class="line">branch.master.remote=origin</span><br><span class="line">branch.master.merge=refs/heads/master</span><br></pre></td></tr></table></figure><h2 id="查看用户配置"><a href="#查看用户配置" class="headerlink" title="查看用户配置"></a>查看用户配置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git config --global -l</span></span><br><span class="line"></span><br><span class="line">user.name=brooks</span><br><span class="line">user.email=hyp.712@163.com</span><br><span class="line">color.ui=auto</span><br><span class="line">http.postbuffer=524288000</span><br></pre></td></tr></table></figure><h2 id="修改用户配置"><a href="#修改用户配置" class="headerlink" title="修改用户配置"></a>修改用户配置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">  git config --global user.name <span class="string">&quot;输入你的用户名&quot;</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash">  git config --global user.email <span class="string">&quot;输入你的邮箱&quot;</span></span></span><br></pre></td></tr></table></figure><h1 id="仓库"><a href="#仓库" class="headerlink" title="仓库"></a>仓库</h1><h2 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mkdir demo</span><br><span class="line">cd demo</span><br><span class="line"></span><br><span class="line">git init</span><br><span class="line">touch README.md</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m &quot;first commit&quot;</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">添加仓库地址</span></span><br><span class="line">git remote add xxx.git #项目地址</span><br><span class="line">git push -u origin master</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">已有仓库</span></span><br><span class="line">cd existing_git_repo</span><br><span class="line">git remote add origin xxx.git #项目地址</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><h2 id="查看远程仓库地址"><a href="#查看远程仓库地址" class="headerlink" title="查看远程仓库地址"></a>查看远程仓库地址</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span><br></pre></td></tr></table></figure><h2 id="添加新的远程仓库"><a href="#添加新的远程仓库" class="headerlink" title="添加新的远程仓库"></a>添加新的远程仓库</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote add &lt;remote&gt; &lt;url&gt;</span></span><br></pre></td></tr></table></figure><h2 id="修改远程仓库地址"><a href="#修改远程仓库地址" class="headerlink" title="修改远程仓库地址"></a>修改远程仓库地址</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">方法一：直接修改</span></span><br><span class="line">git remote set-url origin [url]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">方法二：先删除再修改地址</span></span><br><span class="line">git remote rm origin</span><br><span class="line">git remote add origin [url]</span><br></pre></td></tr></table></figure><h2 id="显示远程仓库信息"><a href="#显示远程仓库信息" class="headerlink" title="显示远程仓库信息"></a>显示远程仓库信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote show &lt;remote&gt;</span></span><br></pre></td></tr></table></figure><h2 id="关联本地和远程仓库"><a href="#关联本地和远程仓库" class="headerlink" title="关联本地和远程仓库"></a>关联本地和远程仓库</h2><p>fatal: refusing to merge unrelated histories</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">解决方案：</span></span><br><span class="line">git pull origin master --allow-unrelated-histories</span><br></pre></td></tr></table></figure><h1 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h1><h2 id="查看本地分支"><a href="#查看本地分支" class="headerlink" title="查看本地分支"></a>查看本地分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br></pre></td></tr></table></figure><p>master 分支前的 * 字符，它表示当前所在的分支。</p><h2 id="查看远程分支"><a href="#查看远程分支" class="headerlink" title="查看远程分支"></a>查看远程分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -r</span></span><br></pre></td></tr></table></figure><h2 id="列出所有分支（local-amp-remote）"><a href="#列出所有分支（local-amp-remote）" class="headerlink" title="列出所有分支（local&amp;remote）"></a>列出所有分支（local&amp;remote）</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -a</span></span><br></pre></td></tr></table></figure><h2 id="切换分支"><a href="#切换分支" class="headerlink" title="切换分支"></a>切换分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout &lt;branch&gt;</span></span><br></pre></td></tr></table></figure><h2 id="创建并切换到新分支"><a href="#创建并切换到新分支" class="headerlink" title="创建并切换到新分支"></a>创建并切换到新分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b &lt;branch&gt;</span></span><br></pre></td></tr></table></figure><h2 id="基于当前分支创建新分支"><a href="#基于当前分支创建新分支" class="headerlink" title="基于当前分支创建新分支"></a>基于当前分支创建新分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch &lt;new-branch&gt;</span></span><br></pre></td></tr></table></figure><h2 id="删除本地分支"><a href="#删除本地分支" class="headerlink" title="删除本地分支"></a>删除本地分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -d &lt;branch&gt;</span></span><br></pre></td></tr></table></figure><h2 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -d origin &lt;branch&gt;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push -d origin &lt;branch1&gt; &lt;branch2&gt; &lt;branch3&gt; <span class="comment">#删除多个分支</span></span></span><br></pre></td></tr></table></figure><h2 id="修改本地分支名称"><a href="#修改本地分支名称" class="headerlink" title="修改本地分支名称"></a>修改本地分支名称</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git branch -m &lt;old-branch&gt; &lt;new-branch&gt;</span> </span><br></pre></td></tr></table></figure><h2 id="修改远程分支名称"><a href="#修改远程分支名称" class="headerlink" title="修改远程分支名称"></a>修改远程分支名称</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">不能直接修改，步骤：</span></span><br><span class="line">1、修改本地分支</span><br><span class="line">2、删除远程分支</span><br><span class="line">3、将新分支推上去</span><br><span class="line">4、将新本地分支和远程相连</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -m &lt;old-branch&gt; &lt;new-branch&gt;</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> git push -d origin &lt;old-branch&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin &lt;new-branch&gt;</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> git push --set-upstream origin &lt;new-branch&gt;</span> </span><br></pre></td></tr></table></figure><h1 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h1><h2 id="查看仓库文件状态"><a href="#查看仓库文件状态" class="headerlink" title="查看仓库文件状态"></a>查看仓库文件状态</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br></pre></td></tr></table></figure><h2 id="查看未暂存文件变化"><a href="#查看未暂存文件变化" class="headerlink" title="查看未暂存文件变化"></a>查看未暂存文件变化</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git diff     <span class="comment">#查看未暂存 所有文件的变更</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff &lt;path&gt;  <span class="comment">#查看未暂存 指定文件的变更</span></span></span><br></pre></td></tr></table></figure><h2 id="查看已暂存文件变化"><a href="#查看已暂存文件变化" class="headerlink" title="查看已暂存文件变化"></a>查看已暂存文件变化</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git diff --cached   <span class="comment">#查看已暂存 所有文件的变更</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --cached &lt;path&gt;  <span class="comment">#查看已暂存 指定文件的变更</span></span></span><br></pre></td></tr></table></figure><h2 id="添加暂存"><a href="#添加暂存" class="headerlink" title="添加暂存"></a>添加暂存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add .   <span class="comment">#暂存所有 修改的文件</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add &lt;path&gt;  <span class="comment">#暂存指定 修改的文件</span></span></span><br></pre></td></tr></table></figure><h2 id="添加部分暂存"><a href="#添加部分暂存" class="headerlink" title="添加部分暂存"></a>添加部分暂存</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">git add -p （git add --patch）命令，交互式暂存此文件的特定部分</span><br><span class="line"></span><br><span class="line">这时有很多选项。 输入 ? 显示所有可以使用的命令列表：</span><br><span class="line">Stage this hunk [y,n,a,d,/,j,J,g,e,?]? ?</span><br><span class="line">y - stage this hunk</span><br><span class="line">n - do not stage this hunk</span><br><span class="line">a - stage this and all the remaining hunks in the file</span><br><span class="line">d - do not stage this hunk nor any of the remaining hunks in the file</span><br><span class="line">g - select a hunk to go to</span><br><span class="line">/ - search for a hunk matching the given regex</span><br><span class="line">j - leave this hunk undecided, see next undecided hunk</span><br><span class="line">J - leave this hunk undecided, see next hunk</span><br><span class="line">k - leave this hunk undecided, see previous undecided hunk</span><br><span class="line">K - leave this hunk undecided, see previous hunk</span><br><span class="line">s - split the current hunk into smaller hunks</span><br><span class="line">? - print help</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="comment">#中文版本：</span></span></span><br><span class="line">y - 暂存此区块</span><br><span class="line">n - 不暂存此区块</span><br><span class="line">q - 退出；不暂存包括此块在内的剩余的区块</span><br><span class="line">a - 暂存此块与此文件后面所有的区块</span><br><span class="line">d - 不暂存此块与此文件后面所有的 区块</span><br><span class="line">g - 选择并跳转至一个区块</span><br><span class="line">/ - 搜索与给定正则表达式匹配的区块</span><br><span class="line">j - 暂不决定，转至下一个未决定的区块</span><br><span class="line">J - 暂不决定，转至一个区块</span><br><span class="line">k - 暂不决定，转至上一个未决定的区块</span><br><span class="line">K - 暂不决定，转至上一个区块</span><br><span class="line">s - 将当前的区块分割成多个较小的区块</span><br><span class="line">e - 手动编辑当前的区块</span><br><span class="line">? - 输出帮助</span><br></pre></td></tr></table></figure><p>通常，输入<code>y</code>暂存此部分，或者输入<code>n</code>跳过此部分就可以了</p><h2 id="取消暂存"><a href="#取消暂存" class="headerlink" title="取消暂存"></a>取消暂存</h2><p>把对某个文件的修改添加到下次提交中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git restore --staged .   <span class="comment">#取消暂存 所有文件</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git restore --staged &lt;path&gt; <span class="comment">#取消暂存 指定文件</span></span></span><br></pre></td></tr></table></figure><h2 id="丢弃改动"><a href="#丢弃改动" class="headerlink" title="丢弃改动"></a>丢弃改动</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git restore &lt;path&gt; <span class="comment">#丢弃文件的改动</span></span></span><br></pre></td></tr></table></figure><h2 id="删除未跟踪文件"><a href="#删除未跟踪文件" class="headerlink" title="删除未跟踪文件"></a>删除未跟踪文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git clean -f  <span class="comment"># 删除 untracked files</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git clean -fd  <span class="comment"># 连 untracked 的目录也一起删掉</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git clean -nfd <span class="comment"># -n 参数来先看看会删掉哪些文件，防止重要文件被误删</span></span></span><br></pre></td></tr></table></figure><h2 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">&#x27;message here&#x27;</span>   <span class="comment">#用于提交暂存区的文件</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -am <span class="string">&#x27;message here&#x27;</span> <span class="comment">#用于提交跟踪过的文件,相当于省去了 git add</span></span></span><br></pre></td></tr></table></figure><h2 id="修改上次提交msg"><a href="#修改上次提交msg" class="headerlink" title="修改上次提交msg"></a>修改上次提交msg</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend <span class="comment"># 首先使用命令后，会进入到vim 编辑器,修改注释信息，然后退出。</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend -m [message]    <span class="comment"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend [file1] [file2] <span class="comment"># 重做上一次commit，并包括指定文件的新变化</span></span></span><br></pre></td></tr></table></figure><p>git commit –amend 就是解决一些很小的改动，使得你不想在重现创建一个commit而设定。如果你的commit已经push到了远程仓库，那么使用–amend修改commit后，git push时一定要使用 <strong>–force-with-lease</strong> 参数。否则就会报错:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">error: 无法推送一些引用到 &#x27;https://github.com/×××/test.git&#x27;</span><br><span class="line">提示：更新被拒绝，因为您当前分支的最新提交落后于其对应的远程分支。</span><br><span class="line">提示：再次推送前，先与远程变更合并（如 &#x27;git pull ...&#x27;）。详见</span><br><span class="line">提示：&#x27;git push --help&#x27; 中的 &#x27;Note about fast-forwards&#x27; 小节。</span><br></pre></td></tr></table></figure><h2 id="修改上次提交的author"><a href="#修改上次提交的author" class="headerlink" title="修改上次提交的author"></a>修改上次提交的author</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend --author=&quot;hyp &lt;hyp.712@163.com&gt;&quot; </span><br><span class="line"></span><br><span class="line">执行后，:wq 保存退出即可。author修改为hyp。</span><br></pre></td></tr></table></figure><h2 id="修改前面某条的提交信息"><a href="#修改前面某条的提交信息" class="headerlink" title="修改前面某条的提交信息"></a>修改前面某条的提交信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i HEAD~n</span><br><span class="line"></span><br><span class="line">将需要修改的提交记录信息前的pick改为reword</span><br><span class="line">:wq 保存退出,会自动弹出修改comment页面，修改保存退出</span><br></pre></td></tr></table></figure><p><img src="/mnt/sdb/work/md-workspace/md-blog/source/_posts/pic/image-20240304175236349.png" alt="image-20240304175236349"></p><h2 id="合并多个提交为一个"><a href="#合并多个提交为一个" class="headerlink" title="合并多个提交为一个"></a>合并多个提交为一个</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">多笔提交合并</span>  </span><br><span class="line">git rebase -i HEAD~n  </span><br></pre></td></tr></table></figure><p>使用git rebase -i HEAD~n合并多笔提交，使用前使用git log查看要合并的commit共有几笔，然后将n替换为具体数字</p><p>如： git rebase -i HEAD~6  //将最新的6笔提交合并，执行命令后会看到如下vim界面，（git editor不是vim的可以使用 git config –global core.editor vim 进行配置）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pick 508a46de Import translations. DO NOT MERGE ANYWHERE</span><br><span class="line">pick 0cc8cd9b CarSettings 适配MIAuto</span><br><span class="line">pick 4ad57b0b add some comments Signed-off-by: dominic &lt;</span><br><span class="line"></span><br><span class="line"># 变基 0f0c6367..4ad57b0b 到 0f0c6367（3 个提交）</span><br><span class="line"># 命令:</span><br><span class="line"># p, pick &lt;提交&gt; = 使用提交</span><br><span class="line"># ...</span><br></pre></td></tr></table></figure><p>然后将第二行开始的pick改成s表示squash, 挤压到前一个提交, 保存退出后会进入一个新的Vim页面：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 这是一个 3 个提交的组合。</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是第一个提交说明：</span></span><br><span class="line">Import translations. DO NOT MERGE ANYWHERE</span><br><span class="line">Auto-generated-cl: translation import</span><br><span class="line">Change-Id: I8760b7a4a1eeba58af7d68b0e4704c07187c7b28</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是提交说明 <span class="comment">#2：</span></span></span><br><span class="line">CarSettings 适配MIAuto</span><br><span class="line">Change-Id: I1a5885fef6f9345aaf36a4a09047dbfc265ac175</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 这是提交说明 <span class="comment">#3：</span></span></span><br><span class="line">add some comments</span><br><span class="line">Signed-off-by: dominic &lt;hanguoliang1@xiaomi.com&gt;</span><br><span class="line">Change-Id: Ia0883583bc962ab97e6ef0ea7bb966b21028c87a</span><br></pre></td></tr></table></figure><p>然后在这个页面进行编辑合并后的提交信息，删除无用的信息，保存退出，如果成功可以看到successfully rebased and updated等文案提示。以上操作可以实现将多笔提交合并为一笔，这样在Gerrit系统review的时候就不用查看多笔提交了。</p><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><p>下载远程仓库代码，但不合并到HEAD中：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git fetch &lt;remote&gt;</span></span><br></pre></td></tr></table></figure><p>将远程仓库代码合并到本地版本中：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git pull</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git pull = git fetch + git merge FETCH_HEAD</span> </span><br><span class="line"><span class="meta">$</span><span class="bash"> git pull --rebase = git fetch + git rebase</span></span><br></pre></td></tr></table></figure><p>强制拉取并覆盖本地代码</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br></pre></td></tr></table></figure><h2 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h2><p>将分支合并到当前HEAD中：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git merge &lt;branch&gt;   <span class="comment"># 把 目标&lt;branch&gt;分支代码 合并到当前分支*</span></span> </span><br></pre></td></tr></table></figure><p>将当前HEAD版本rebase到分支中:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git rebase &lt;branch&gt;  <span class="comment"># 把 目标&lt;branch&gt;分支代码 合并到当前分支*</span></span> </span><br></pre></td></tr></table></figure><p><img src="/2021/07/18/Git-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/img_rebase.png"></p><p>退出rebase:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git rebase --abort</span></span><br></pre></td></tr></table></figure><p>解决冲突后继续rebase：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git rebase --<span class="built_in">continue</span></span></span><br></pre></td></tr></table></figure><p>在编辑器中手动解决冲突后，标记文件为已解决冲突</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git add &lt;resolved-file&gt;</span></span><br></pre></td></tr></table></figure><h2 id="git-rebase-与-git-merge-区别"><a href="#git-rebase-与-git-merge-区别" class="headerlink" title="git rebase 与 git merge 区别"></a>git rebase 与 git merge 区别</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git merge会直接合并远端分支，有冲突时创建一个新的 commit 再提交。</span><br><span class="line"></span><br><span class="line">git rebase 则是将本地的 commit 跟合并后有冲突的 commit 整合到一起，再提交到远端。这样可以保证 git 提交节点在一条线上，而不会因为冲突 commit 多出一个不在主流程线上的提交记录。</span><br></pre></td></tr></table></figure><h2 id="摘选"><a href="#摘选" class="headerlink" title="摘选"></a>摘选</h2><p>当你只需要部分代码变动（某几个提交）转移到另一个分支时，采用 Cherry pick(俗称：摘樱桃)。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git cherry-pick &lt;commitHash&gt;</span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">步骤</span></span><br><span class="line">1.先从原分支查看git log获取待合并的 commitHash</span><br><span class="line">2.然后checkout到目标分支</span><br><span class="line">3.执行git cherry-pick commitHash，即可</span><br><span class="line"></span><br><span class="line">git cherry-pick命令的常用配置项如下。</span><br><span class="line">（1）-e，--edit  打开外部编辑器，编辑提交信息。</span><br><span class="line">（2）-n，--no-commit  只更新工作区和暂存区，不产生新的提交。</span><br><span class="line">（3）-x  在提交信息的末尾追加一行(cherry picked from commit ...)，方便以后查到这个提交是如何产生的。</span><br><span class="line">（4）-s，--signoff 在提交信息的末尾追加一行操作者的签名，表示是谁进行了这个操作。</span><br></pre></td></tr></table></figure><h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><p>放弃工作目录下的所有修改：</p><p>1.如果是撤销所有的已经add的文件:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset HEAD    <span class="comment">#等同于 git restore --staged .</span></span></span><br></pre></td></tr></table></figure><p>2.如果是撤销某个文件或文件夹：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset HEAD &lt;path&gt;   <span class="comment">#等同于 git restore --staged &lt;path&gt;</span></span> </span><br></pre></td></tr></table></figure><p>3.回退到上次提交</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD^</span></span><br></pre></td></tr></table></figure><p>4.回退到上上次提交</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD^^</span></span><br></pre></td></tr></table></figure><p>5.重置一个提交（通过创建一个截然不同的新提交）</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git revert &lt;commit&gt;</span></span><br></pre></td></tr></table></figure><p>6.将HEAD重置到指定的版本，并抛弃该版本之后的所有修改：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard &lt;commit&gt;</span></span><br></pre></td></tr></table></figure><p>7.已经commit还未push，撤销</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> git reset --soft HEAD^  #回退到上个版本</span><br><span class="line"> git reset --soft HEAD~3 #回退上上上一个版本</span><br><span class="line"></span><br><span class="line">--soft #不删除工作空间的改动代码 ，撤销commit，不撤销git add file</span><br><span class="line">--hard #删除工作空间的改动代码，撤销commit且撤销add</span><br></pre></td></tr></table></figure><p>这样就成功撤销了commit，如果想要连着add也撤销的话，–soft改为–hard（删除工作空间的改动代码）。</p><h2 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push</span>  </span><br><span class="line"><span class="meta">$</span><span class="bash"> git push &lt;origin&gt; &lt;branch&gt; <span class="comment">#如果添加多个仓库，指定仓库名称</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin develop  <span class="comment">#举例，提交远程origin仓库的develop分支</span></span></span><br></pre></td></tr></table></figure><h2 id="查看提交历史"><a href="#查看提交历史" class="headerlink" title="查看提交历史"></a>查看提交历史</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span>   <span class="comment">#查看所有历史</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --author=<span class="string">&quot;username&quot;</span>  <span class="comment">#查看某个用户所有提交历史</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --oneline -[n] <span class="comment">#查看历史，单行显示提交历史，不展示详情 -5 最近五条</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -p &lt;path&gt;   <span class="comment">#查看指定文件的提交历史</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reflog <span class="comment"># 显示当前分支的最近几次提交</span></span></span><br></pre></td></tr></table></figure><h2 id="查看提交的内容"><a href="#查看提交的内容" class="headerlink" title="查看提交的内容"></a>查看提交的内容</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git show <span class="comment">#查看最近的一此提交内容</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show commitid <span class="comment">#查看指定的提交内容,，配合 git log --oneline 拿到commitid</span></span></span><br></pre></td></tr></table></figure><h2 id="回滚到某次commit"><a href="#回滚到某次commit" class="headerlink" title="回滚到某次commit"></a>回滚到某次commit</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">回退命令：</span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD^         <span class="comment">#回退到上个版本</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD~3        <span class="comment">#回退到前3次提交之前，以此类推，回退到n次提交之前</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard commit_id     <span class="comment">#退到/进到 指定commit的sha码</span></span></span><br><span class="line"></span><br><span class="line">强推到远程：</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin HEAD --force</span></span><br></pre></td></tr></table></figure><h2 id="获取完整commit-id"><a href="#获取完整commit-id" class="headerlink" title="获取完整commit id"></a>获取完整commit id</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git rev-parse HEAD</span><br><span class="line">323f71b499929e5436bc38d08722b64a606c173c</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">获取short commit id（如：bb4f92a）</span></span><br><span class="line">git rev-parse --short HEAD</span><br><span class="line">323f71b499</span><br></pre></td></tr></table></figure><h1 id="存储"><a href="#存储" class="headerlink" title="存储"></a>存储</h1><h2 id="执行存储"><a href="#执行存储" class="headerlink" title="执行存储"></a>执行存储</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash save <span class="string">&quot;save message&quot;</span></span></span><br></pre></td></tr></table></figure><p>执行存储时，添加备注，方便查找，只有git stash 也要可以的，但查找时不方便识别。</p><h2 id="查看存储列表"><a href="#查看存储列表" class="headerlink" title="查看存储列表"></a>查看存储列表</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br></pre></td></tr></table></figure><h2 id="显示存储改动的文件"><a href="#显示存储改动的文件" class="headerlink" title="显示存储改动的文件"></a>显示存储改动的文件</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash show</span></span><br></pre></td></tr></table></figure><p>默认show第一个存储,如果要显示其他存贮，后面加stash@{$num}，比如第二个 git stash show stash@{1}</p><h2 id="显示存储改动的内容"><a href="#显示存储改动的内容" class="headerlink" title="显示存储改动的内容"></a>显示存储改动的内容</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash show -p  <span class="comment">#显示第一个存储的改动，</span></span></span><br></pre></td></tr></table></figure><p>默认show第一个如果显示其他存存储，命令后面加 stash@{$num} -p ，比如第二个：git stash show stash@{1} -p</p><h2 id="应用某个存储"><a href="#应用某个存储" class="headerlink" title="应用某个存储"></a>应用某个存储</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash apply</span></span><br></pre></td></tr></table></figure><p>应用存储，但不会从存储列表中删除，默认使用第一个,即stash@{0}，如果要使用其他追加 stash@{$num} ， 比如第二个：git stash apply stash@{1} </p><h2 id="应用存储且删除记录"><a href="#应用存储且删除记录" class="headerlink" title="应用存储且删除记录"></a>应用存储且删除记录</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br></pre></td></tr></table></figure><p>应用存储，并从存储列表中删除，默认为第一个stash,即stash@{0}，如果要应用并删除其他stash，命令：git stash pop stash@{$num} ，比如应用并删除第二个：git stash pop stash@{1}</p><h2 id="丢弃存储"><a href="#丢弃存储" class="headerlink" title="丢弃存储"></a>丢弃存储</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash drop stash@&#123;num]</span></span><br></pre></td></tr></table></figure><p>丢弃stash@{$num}存储，从列表中删除这个存储</p><h2 id="删除所有stash"><a href="#删除所有stash" class="headerlink" title="删除所有stash"></a>删除所有stash</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash clear</span></span><br></pre></td></tr></table></figure><h2 id="本地修改打patch"><a href="#本地修改打patch" class="headerlink" title="本地修改打patch"></a>本地修改打patch</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用 `git diff` 命令创建补丁文件。这将比较两个提交之间的差异，并将其输出到一个文件中。</span><br><span class="line">git diff  &gt; my_patch.patch</span><br></pre></td></tr></table></figure><h2 id="应用patch"><a href="#应用patch" class="headerlink" title="应用patch"></a>应用patch</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">请将补丁文件复制到该代码库的根目录。在目标代码库中，运行 `git apply` 命令以应用补丁：</span><br><span class="line"></span><br><span class="line">git apply my_patch.patch</span><br></pre></td></tr></table></figure><h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><h2 id="显示Tag列表"><a href="#显示Tag列表" class="headerlink" title="显示Tag列表"></a>显示Tag列表</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag</span></span><br></pre></td></tr></table></figure><h2 id="显示标签信息"><a href="#显示标签信息" class="headerlink" title="显示标签信息"></a>显示标签信息</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git show v2.9_tag</span></span><br><span class="line"></span><br><span class="line">tag v2.9_tag</span><br><span class="line">Tagger: brooks &lt;hyp712@163.com&gt;</span><br><span class="line">Date:   Mon Jul 19 21:06:45 2021 +0800</span><br><span class="line">v2.9美颜</span><br></pre></td></tr></table></figure><p>输出显示了打标签者的信息、打标签的日期时间、附注信息，然后显示具体的提交信息。</p><h2 id="添加Tag"><a href="#添加Tag" class="headerlink" title="添加Tag"></a>添加Tag</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag &lt;tagname&gt;</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag &lt;tagname&gt; -m <span class="string">&quot;messsage&quot;</span></span> </span><br></pre></td></tr></table></figure><h2 id="删除Tag"><a href="#删除Tag" class="headerlink" title="删除Tag"></a>删除Tag</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git tag -d &lt;tagname&gt; <span class="comment">#删除本地标签</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin --delete &lt;tagname&gt;   <span class="comment">#删除远程标签</span></span></span><br></pre></td></tr></table></figure><h2 id="发布标签"><a href="#发布标签" class="headerlink" title="发布标签:"></a>发布标签:</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push origin v1.0  <span class="comment">#将v1.0tag推送到远程仓库</span></span></span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin --tags <span class="comment">#将把所有不在远程仓库的标签全部推上去</span></span></span><br></pre></td></tr></table></figure><h1 id="repo-使用说明"><a href="#repo-使用说明" class="headerlink" title="repo 使用说明"></a>repo 使用说明</h1><h3 id="1-安装（推荐使用清华镜像版本）"><a href="#1-安装（推荐使用清华镜像版本）" class="headerlink" title="1.安装（推荐使用清华镜像版本）"></a>1.安装（推荐使用清华镜像版本）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://mirrors.tuna.tsinghua.edu.cn/git/git-repo -o repo</span><br><span class="line">chmod +x repo</span><br></pre></td></tr></table></figure><h3 id="2-初始化"><a href="#2-初始化" class="headerlink" title="2.初始化"></a>2.初始化</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">repo init –u URL [OPTIONS]</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">eg:</span> </span><br><span class="line">repo init -u ssh://brooks@gerrit.office.cn:1000/platform/manifest.git</span><br></pre></td></tr></table></figure><h3 id="3-下载代码"><a href="#3-下载代码" class="headerlink" title="3.下载代码"></a>3.下载代码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo sync [project name] #同步代码到本地</span><br></pre></td></tr></table></figure><h3 id="4-代码修改，上传"><a href="#4-代码修改，上传" class="headerlink" title="4.代码修改，上传"></a>4.代码修改，上传</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -s //进入提交日志编辑页面，编辑保存后退出</span><br><span class="line">repo upload . //执行upload操作将代码提交到Gerrit以便进行审核</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">避免一次review有多笔提交 可以使用 commit --amend将最新的改动合并到上一笔的提交</span></span><br><span class="line">git commit --amend </span><br></pre></td></tr></table></figure><h3 id="5-创建并切换分支"><a href="#5-创建并切换分支" class="headerlink" title="5.创建并切换分支"></a>5.创建并切换分支</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo start [branchName]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Nexus搭建Maven本地私服</title>
      <link href="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/"/>
      <url>/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/</url>
      
        <content type="html"><![CDATA[<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><ol><li>公司业务-核心或基础模块-独立研发，提供aar对其他业务线支持</li><li>在工作中可能存在有些开发机器不能上网</li><li>大量的机器获取jar包会导致公司网络很慢</li><li>有时候公司会自己发布自己的项目版本，其他的项目可能会依赖引用到</li><li>等…..</li></ol><p>综上等原因，我们需要用到Maven本地仓库对项目进行管理。</p><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>Nexus是Maven的仓库管理器，用来搭建一个本地仓库服务器，这样做的好处便于管理，节约网络资源， 速度快，可以通过SNAPSHOT版本控制，开进行模块间的高效依赖开发。</p><span id="more"></span><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.sonatype.com/nexus/3/nexus-3.31.1-01-unix.tar.gz</span><br></pre></td></tr></table></figure><p>也可以在这里-选择 <a href="https://help.sonatype.com/repomanager3/download/download-archives---repository-manager-3">历史版本</a></p><h2 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf nexus-3.31.1-01-unix.tar.gz</span><br></pre></td></tr></table></figure><h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd nexus-3.31.1-01/bin</span><br><span class="line"></span><br><span class="line">./nexus start</span><br></pre></td></tr></table></figure><h2 id="停止服务"><a href="#停止服务" class="headerlink" title="停止服务"></a>停止服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./nexus stop</span><br></pre></td></tr></table></figure><h2 id="访问用户界面"><a href="#访问用户界面" class="headerlink" title="访问用户界面"></a>访问用户界面</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8081/</span><br><span class="line"></span><br><span class="line">用户名：admin</span><br><span class="line">密 码： 初始密码可以sonatype-work里找到,使用cat命令获取</span><br><span class="line">cat ./sonatype-work/nexus3/admin.password</span><br><span class="line">c28197d3-0673-4399-b634-effa06b8450a   #初始密码</span><br></pre></td></tr></table></figure><h2 id="登录成功"><a href="#登录成功" class="headerlink" title="登录成功"></a>登录成功</h2><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/Screen+Shot+2017-09-13+at+3.14.25+PM.png"></p><h1 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h1><p>创建brooks用户，成功后使用brooks登录。</p><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210715233429927.png" alt="image-20210715233429927"></p><h1 id="创建仓库"><a href="#创建仓库" class="headerlink" title="创建仓库"></a>创建仓库</h1><h2 id="设置页面点击-Create-repository"><a href="#设置页面点击-Create-repository" class="headerlink" title="设置页面点击 Create repository"></a>设置页面点击 Create repository</h2><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210715233751831.png" alt="image-20210715233751831"></p><h2 id="选择maven2-hosted"><a href="#选择maven2-hosted" class="headerlink" title="选择maven2 hosted"></a>选择maven2 hosted</h2><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210715234019281.png" alt="image-20210715234019281"></p><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210715234402305.png" alt="image-20210715234402305"></p><p>点击Create repository开始创建。</p><h2 id="查看创建的仓库"><a href="#查看创建的仓库" class="headerlink" title="查看创建的仓库"></a>查看创建的仓库</h2><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210715234740899.png" alt="image-20210715234740899"></p><h1 id="上传aar到仓库"><a href="#上传aar到仓库" class="headerlink" title="上传aar到仓库"></a>上传aar到仓库</h1><h2 id="打开Project的build-gradle文件"><a href="#打开Project的build-gradle文件" class="headerlink" title="打开Project的build.gradle文件"></a>打开Project的build.gradle文件</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        ...</span><br><span class="line">        mavenLocal() <span class="comment">//添加这一行，告诉AS，我们使用自己的仓库</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="打开module的build-gradle文件"><a href="#打开module的build-gradle文件" class="headerlink" title="打开module的build.gradle文件"></a>打开module的build.gradle文件</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * release 和 snapshot 仓库的区别</span></span><br><span class="line"><span class="comment"> * release 仓库不能重复上传同一版本号，版本不能覆盖，只能迭代 ，发布正式版本的时候使用</span></span><br><span class="line"><span class="comment"> * snapshot 仓库允许版本覆盖。当我上传多次上传同一个版本到 snapshot 仓库，会自动在版本号上添加时间戳来区分，开发时使用。</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>添加以下配置：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加插件，上传到本地 maven 仓库</span></span><br><span class="line">apply <span class="attr">plugin:</span> <span class="string">&#x27;maven&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义上传行为</span></span><br><span class="line">uploadArchives &#123;</span><br><span class="line">    repositories.mavenDeployer &#123;</span><br><span class="line">        repository(<span class="attr">url:</span> <span class="string">&#x27;http://localhost:8081/repository/com.wali.livelib/&#x27;</span>)&#123; <span class="comment">//url,从仓库详情里获取</span></span><br><span class="line">            authentication(<span class="attr">userName:</span><span class="string">&#x27;brooks&#x27;</span>,<span class="attr">password:</span><span class="string">&#x27;brooks&#x27;</span>)  <span class="comment">//用户名密码，可以配置到文件里</span></span><br><span class="line">        &#125;</span><br><span class="line">        pom.groupId = <span class="string">&#x27;com.brooks.live&#x27;</span> <span class="comment">//组名</span></span><br><span class="line">        pom.artifactId = <span class="string">&#x27;network&#x27;</span>     <span class="comment">//项目id</span></span><br><span class="line">        pom.version = <span class="string">&#x27;1.0.0&#x27;</span>    <span class="comment">//版本</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="编译aar并上传"><a href="#编译aar并上传" class="headerlink" title="编译aar并上传"></a>编译aar并上传</h2><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210716000749534.png" alt="image-20210716000749534"></p><h2 id="上传成功"><a href="#上传成功" class="headerlink" title="上传成功"></a>上传成功</h2><p><img src="/2021/07/17/%E4%BD%BF%E7%94%A8Nexus%E6%90%AD%E5%BB%BAMaven%E6%9C%AC%E5%9C%B0%E7%A7%81%E6%9C%8D/image-20210716001240233.png" alt="image-20210716001240233"></p><h1 id="项目引用aar"><a href="#项目引用aar" class="headerlink" title="项目引用aar"></a>项目引用aar</h1><p>在App的build.gradle文件下添加：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">     maven &#123; url <span class="string">&quot;http://localhost:8081/repository/com.wali.livelib/&quot;</span> &#125; <span class="comment">//添加仓库url地址</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在dependencies下添加依赖：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;...implementation <span class="string">&#x27;com.brooks.live:network:1.0.0&#x27;</span>&#125;</span><br></pre></td></tr></table></figure><p>点击同步，完成！</p><p><strong>感谢：</strong></p><p><a href="https://help.sonatype.com/repomanager3/installation/installation-methods">https://help.sonatype.com/repomanager3/installation/installation-methods</a></p>]]></content>
      
      
      <categories>
          
          <category> Nexus </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Android </tag>
            
            <tag> Nexus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android AOSP（二）源码编译</title>
      <link href="/2021/07/16/Android-AOSP%EF%BC%88%E4%BA%8C%EF%BC%89%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/"/>
      <url>/2021/07/16/Android-AOSP%EF%BC%88%E4%BA%8C%EF%BC%89%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/</url>
      
        <content type="html"><![CDATA[<h1 id="整编"><a href="#整编" class="headerlink" title="整编"></a>整编</h1><p>整编，就是编译整个 Android 源码，最终 out 目录会生成几个重要的镜像文件，其中有 system.img、userdata.img、ramdisk.img 等，这些是可以刷机的。</p><h2 id="准备编译环境"><a href="#准备编译环境" class="headerlink" title="准备编译环境"></a><strong>准备编译环境</strong></h2><span id="more"></span><p><strong>1.安装 openjdk</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install openjdk-8-jdk</span><br></pre></td></tr></table></figure><p><strong>2.安装以下依赖包：</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git-core gnupg flex bison gperf build-essential zip curl zlib1g-dev gcc-multilib g++-multilib libc6-dev-i386 lib32ncurses5-dev x11proto-core-dev libx11-dev lib32z-dev ccache libgl1-mesa-dev libxml2-utils xsltproc unzip</span><br></pre></td></tr></table></figure><h2 id="初始化编译环境"><a href="#初始化编译环境" class="headerlink" title="初始化编译环境"></a>初始化编译环境</h2><p>进入项目目录，打开终端，输入命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source build/envsetup.sh</span><br></pre></td></tr></table></figure><p>编译前删除build文件夹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make clobber</span><br></pre></td></tr></table></figure><h2 id="选择编译目标"><a href="#选择编译目标" class="headerlink" title="选择编译目标"></a>选择编译目标</h2><p>输入命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lunch</span><br></pre></td></tr></table></figure><p>lunch命令是envsetup.sh里定义的一个命令，用来让用户选择编译目标。</p><p>输出：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">You&#x27;re building on Linux</span><br><span class="line"></span><br><span class="line">Lunch menu... pick a combo:</span><br><span class="line">     1. aosp_arm-eng</span><br><span class="line">     2. aosp_arm64-eng</span><br><span class="line">     3. aosp_blueline-userdebug</span><br><span class="line">     4. aosp_blueline_car-userdebug</span><br><span class="line">     5. aosp_bonito-userdebug</span><br><span class="line">     6. aosp_bonito_car-userdebug</span><br><span class="line">     7. aosp_bramble-userdebug</span><br><span class="line">     8. aosp_car_arm-userdebug</span><br><span class="line">     9. aosp_car_arm64-userdebug</span><br><span class="line">     10. aosp_car_x86-userdebug</span><br><span class="line">     11. aosp_car_x86_64-userdebug</span><br><span class="line">     12. aosp_cf_arm64_auto-userdebug</span><br><span class="line">     13. aosp_cf_arm64_phone-userdebug</span><br><span class="line">     14. aosp_cf_x86_64_pc-userdebug</span><br><span class="line">     15. aosp_cf_x86_64_phone-userdebug</span><br><span class="line">     16. aosp_cf_x86_auto-userdebug</span><br><span class="line">     17. aosp_cf_x86_phone-userdebug</span><br><span class="line">     18. aosp_cf_x86_tv-userdebug</span><br><span class="line">     19. aosp_coral-userdebug</span><br><span class="line">     20. aosp_coral_car-userdebug</span><br><span class="line">     21. aosp_crosshatch-userdebug</span><br><span class="line">     22. aosp_crosshatch_car-userdebug</span><br><span class="line">     23. aosp_flame-userdebug</span><br><span class="line">     24. aosp_flame_car-userdebug</span><br><span class="line">     25. aosp_redfin-userdebug</span><br><span class="line">     26. aosp_sargo-userdebug</span><br><span class="line">     27. aosp_sunfish-userdebug</span><br><span class="line">     28. aosp_trout_arm64-userdebug</span><br><span class="line">     29. aosp_trout_x86-userdebug</span><br><span class="line">     30. aosp_x86-eng</span><br><span class="line">     31. aosp_x86_64-eng</span><br><span class="line">     32. arm_krait-eng</span><br><span class="line">     33. arm_v7_v8-eng</span><br><span class="line">     34. armv8-eng</span><br><span class="line">     35. armv8_cortex_a55-eng</span><br><span class="line">     36. armv8_kryo385-eng</span><br><span class="line">     37. beagle_x15-userdebug</span><br><span class="line">     38. beagle_x15_auto-userdebug</span><br><span class="line">     39. car_x86_64-userdebug</span><br><span class="line">     40. db845c-userdebug</span><br><span class="line">     41. fuchsia_arm64-eng</span><br><span class="line">     42. fuchsia_x86_64-eng</span><br><span class="line">     43. hikey-userdebug</span><br><span class="line">     44. hikey64_only-userdebug</span><br><span class="line">     45. hikey960-userdebug</span><br><span class="line">     46. hikey960_tv-userdebug</span><br><span class="line">     47. hikey_tv-userdebug</span><br><span class="line">     48. pixel3_mainline-userdebug</span><br><span class="line">     49. poplar-eng</span><br><span class="line">     50. poplar-user</span><br><span class="line">     51. poplar-userdebug</span><br><span class="line">     52. qemu_trusty_arm64-userdebug</span><br><span class="line">     53. silvermont-eng</span><br><span class="line">     54. uml-userdebug</span><br><span class="line">     55. yukawa-userdebug</span><br><span class="line">     56. yukawa_sei510-userdebug</span><br><span class="line"></span><br><span class="line">Which would you like? [aosp_arm-eng] </span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>lunch</code> 命令选择要构建的<a href="https://source.android.google.cn/setup/build/building#choose-a-target">目标</a>设备类型。目标是指设备组合，例如特定型号或设备类型。</p><p>其中BUILD表示编译出的镜像可以运行在什么环境，aosp代表Android开源项目，arm表示系统是运行在arm架构的处理器上。</p><p><strong>BUILDTYPE 则指的是编译类型，通常有三种:</strong></p><ul><li>user：用来正式发布到市场的版本，权限受限，如没有 root 权限，不能 dedug 等。</li><li>userdebug：在user版本的基础上开放了 root 权限和 debug 权限。</li><li>eng：代表 engineer，开发工程师的版本，拥有最大的权限(root等)，具有额外调试工具的开发配置。</li></ul><p>如果没有谷歌手机设备，可以选择 arm 或者 x86，我选择了 <strong>aosp_x86_64-eng</strong>，编译完后运行模拟器看看，因此这里选择序号 <strong>31</strong>。</p><h2 id="开始编译"><a href="#开始编译" class="headerlink" title="开始编译"></a>开始编译</h2><p>通过 make 指令进行代码编译：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make -j6  #建议不要大于等于电脑核数，否则出现内存不足，编译失败（切身体会）</span><br></pre></td></tr></table></figure><p>其中 -j N 参数表示处理并行任务，通常使用的任务数 N 介于编译时所用计算机上硬件线程数的 1-2 倍之间。</p><p>查看计算机上的核心数：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">brooks@MiPro:~/work/aosp$ cat /proc/cpuinfo | grep processor</span><br><span class="line">processor: 0</span><br><span class="line">processor: 1</span><br><span class="line">processor: 2</span><br><span class="line">processor: 3</span><br><span class="line">processor: 4</span><br><span class="line">processor: 5</span><br><span class="line">processor: 6</span><br><span class="line">processor: 7</span><br></pre></td></tr></table></figure><p>开始编译输出：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">brooks@brooks-Mi-Pro:~/aosp$ make -j6</span><br><span class="line">09:47:02 ************************************************************</span><br><span class="line">09:47:02 You are building on a machine with 15.5GB of RAM</span><br><span class="line">09:47:02 </span><br><span class="line">09:47:02 The minimum required amount of free memory is around 16GB,</span><br><span class="line">09:47:02 and even with that, some configurations may not work.</span><br><span class="line">09:47:02 </span><br><span class="line">09:47:02 If you run into segfaults or other errors, try reducing your</span><br><span class="line">09:47:02 -j value.</span><br><span class="line">09:47:02 ************************************************************</span><br><span class="line">build/make/core/soong_config.mk:195: warning: BOARD_PLAT_PUBLIC_SEPOLICY_DIR has been deprecated. Us</span><br><span class="line">e SYSTEM_EXT_PUBLIC_SEPOLICY_DIRS instead.</span><br><span class="line">build/make/core/soong_config.mk:196: warning: BOARD_PLAT_PRIVATE_SEPOLICY_DIR has been deprecated. U</span><br><span class="line">se SYSTEM_EXT_PRIVATE_SEPOLICY_DIRS instead.</span><br><span class="line">============================================</span><br><span class="line">PLATFORM_VERSION_CODENAME=T</span><br><span class="line">PLATFORM_VERSION=T</span><br><span class="line">TARGET_PRODUCT=aosp_x86_64</span><br><span class="line">TARGET_BUILD_VARIANT=eng</span><br><span class="line">TARGET_BUILD_TYPE=release</span><br><span class="line">TARGET_ARCH=x86_64</span><br><span class="line">TARGET_ARCH_VARIANT=x86_64</span><br><span class="line">TARGET_2ND_ARCH=x86</span><br><span class="line">TARGET_2ND_ARCH_VARIANT=x86_64</span><br><span class="line">HOST_ARCH=x86_64</span><br><span class="line">HOST_2ND_ARCH=x86</span><br><span class="line">HOST_OS=linux</span><br><span class="line">HOST_OS_EXTRA=Linux-5.8.0-59-generic-x86_64-Ubuntu-20.04.2-LTS</span><br><span class="line">HOST_CROSS_OS=windows</span><br><span class="line">HOST_CROSS_ARCH=x86</span><br><span class="line">HOST_CROSS_2ND_ARCH=x86_64</span><br><span class="line">HOST_BUILD_TYPE=release</span><br><span class="line">BUILD_ID=AOSP.MASTER</span><br><span class="line">OUT_DIR=out</span><br><span class="line"></span><br><span class="line">PRODUCT_SOONG_NAMESPACES=device/generic/goldfish device/generic/goldfish-opengl hardware/google/camera hardware/google/camera/devices/EmulatedCamera</span><br><span class="line">============================================</span><br></pre></td></tr></table></figure><p><strong>编译错误参考</strong>：<a href="https://www.jianshu.com/p/8ec0f1f1863a">https://www.jianshu.com/p/8ec0f1f1863a</a></p><h2 id="编译成功-大概花费时长：5h"><a href="#编译成功-大概花费时长：5h" class="headerlink" title="编译成功-大概花费时长：5h"></a>编译成功-大概花费时长：5h</h2><p>第一次编译比较慢，大概5小时左右，编译n次才通过</p><p><img src="/2021/07/16/Android-AOSP%EF%BC%88%E4%BA%8C%EF%BC%89%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/image-20210804103058313.png" alt="image-20210804103058313"></p><h2 id="运行模拟器"><a href="#运行模拟器" class="headerlink" title="运行模拟器"></a>运行模拟器</h2><p>在编译完成之后,就可以通过以下命令运行Android虚拟机了，命令如下:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source build/envsetup.sh</span><br><span class="line">lunch 31</span><br><span class="line">emulator  #如果编译后运行，直接使用此命令</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">emulator: WARNING: Couldn&#x27;t find crash service executable /home/brooks/aosp-resource/aosp/prebuilts/android-emulator/linux-x86_64/emulator64-crash-service</span><br><span class="line">emulator: WARNING: system partition size adjusted to match image file (2562 MB &gt; 800 MB)</span><br><span class="line">Your emulator is out of date, please update by launching Android Studio:</span><br><span class="line"> - Start Android Studio</span><br><span class="line"> - Select menu &quot;Tools &gt; Android &gt; SDK Manager&quot;</span><br><span class="line"> - Click &quot;SDK Tools&quot; tab</span><br><span class="line"> - Check &quot;Android Emulator&quot; checkbox</span><br><span class="line"> - Click &quot;OK&quot;</span><br><span class="line"></span><br><span class="line">emulator: INFO: boot completed</span><br></pre></td></tr></table></figure><p><img src="/2021/07/16/Android-AOSP%EF%BC%88%E4%BA%8C%EF%BC%89%E6%BA%90%E7%A0%81%E7%BC%96%E8%AF%91/image-20210804102211546.png" alt="image-20210804102211546"></p><p><strong>注：</strong>模拟器一直运行失败，各种错误解决不了。建议从官网下载aosp，然后重新编译。</p><p>模拟器运行需要四个文件，分别是：</p><ul><li>Linux Kernel</li><li>system.img</li><li>userdata.img</li><li>ramdisk.img</li></ul><p>上面我 lunch 命令时选择的是 aosp_x86_64-eng，因此 linux 默认使用的 AOSP/prebuilds/qemu-kernel/x86_64/kernel-qemu 下的 kernel-qemu，而其他文件则是使用的 AOSP/out/target/product/generic_x86 目录下的 system.img、userdata.img、ramdisk.img</p><p><strong>感谢：</strong></p><p><a href="http://wuxiaolong.me/2018/07/25/AOSP2/">http://wuxiaolong.me/2018/07/25/AOSP2/</a><br><a href="https://source.android.com/setup/build/building">https://source.android.com/setup/build/building</a><br><a href="http://liuwangshu.cn/framework/aosp/3-compiling-aosp.html">http://liuwangshu.cn/framework/aosp/3-compiling-aosp.html</a></p>]]></content>
      
      
      <categories>
          
          <category> AOSP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AOSP </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Android AOSP（一）源码和内核源码下载</title>
      <link href="/2021/07/16/Android%20AOSP%EF%BC%88%E4%B8%80%EF%BC%89%E6%BA%90%E7%A0%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD/"/>
      <url>/2021/07/16/Android%20AOSP%EF%BC%88%E4%B8%80%EF%BC%89%E6%BA%90%E7%A0%81%E5%92%8C%E5%86%85%E6%A0%B8%E6%BA%90%E7%A0%81%E4%B8%8B%E8%BD%BD/</url>
      
        <content type="html"><![CDATA[<p>AOSP(Android Open Source Project) 代码库可为您提供所需信息和源代码，供您创建定制的 Android 操作系统版本，将设备和配件移植到 Android 平台。官网：<a href="https://source.android.google.cn/">https://source.android.google.cn/</a></p><h1 id="下载repo"><a href="#下载repo" class="headerlink" title="下载repo"></a>下载repo</h1><p><a href="https://gerrit.googlesource.com/git-repo/+/refs/heads/master/README.md">Repo</a> Google开发的一个工具，整合多个 Git 代码库，自动执行 Android 开发工作流程的部分环节。不会取代 Git，只是为了让您在 Android 环境中更轻松地使用 Git。</p><span id="more"></span><p>ubuntu输入命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install git  </span><br></pre></td></tr></table></figure><p>配置环境变量:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/bin</span><br><span class="line">PATH=~/bin:$PATH</span><br></pre></td></tr></table></figure><p>安装curl：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install curl</span><br></pre></td></tr></table></figure><p>下载repo并设置权限：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://mirrors.tuna.tsinghua.edu.cn/git/git-repo &gt; ~/bin/repo</span><br><span class="line">chmod a+x ~/bin/repo</span><br></pre></td></tr></table></figure><p>安装python:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install python</span><br></pre></td></tr></table></figure><h1 id="下载源码"><a href="#下载源码" class="headerlink" title="下载源码"></a>下载源码</h1><h2 id="下载源码《方法一》"><a href="#下载源码《方法一》" class="headerlink" title="下载源码《方法一》"></a>下载源码《方法一》</h2><p>建立工作目录:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir aosp</span><br><span class="line">cd aosp</span><br></pre></td></tr></table></figure><p>初始化仓库:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo init -u https://aosp.tuna.tsinghua.edu.cn/platform/manifest</span><br></pre></td></tr></table></figure><p>初始化并指定版本:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo init -u https://aosp.tuna.tsinghua.edu.cn/platform/manifest -b android-8.0.0_r15</span><br></pre></td></tr></table></figure><p>同步源码树：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repo sync</span><br></pre></td></tr></table></figure><p>然后等待下载完毕,大概源码大小为 65G</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">brooks@brooks-MiPro:~/aosp$ du -sh</span><br><span class="line">65G</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">我下载了N次，每次都会有小部分文件失败，然后编译，最终编译成功，但是模拟器跑步起来</span></span><br></pre></td></tr></table></figure><h2 id="下载源码《方法二》"><a href="#下载源码《方法二》" class="headerlink" title="下载源码《方法二》"></a>下载源码《方法二》</h2><p>方法一，任何网络故障大概率出现部分文件下载失败，强烈建议使用方法二。大概124G</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget -c https://mirrors.tuna.tsinghua.edu.cn/aosp-monthly/aosp-latest.tar # 下载初始化包</span><br><span class="line">tar xf aosp-latest.tar</span><br><span class="line">cd AOSP   # 解压得到的 AOSP 工程目录，此时只有一个隐藏的 .repo 目录</span><br><span class="line">repo sync # 正常同步一遍即可得到完整目录 或 repo sync -l 仅checkout代码</span><br></pre></td></tr></table></figure><p>此后，每次只需运行 <code>repo sync</code> 即可保持同步。 <strong>我们强烈建议您保持每天同步，并尽量选择凌晨等低峰时间</strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">aosp-latest.tar                        100%[++++++++++===========================================================&gt;] 123.57G  3.27MB/s    用时 9h 9m s</span><br><span class="line"></span><br><span class="line">2021-07-23 08:40:22 (3.31 MB/s) - 已保存 “aosp-latest.tar” [132684083200/132684083200])</span><br></pre></td></tr></table></figure><h1 id="下载内核源码"><a href="#下载内核源码" class="headerlink" title="下载内核源码"></a>下载内核源码</h1><p>AOSP源码中并不包括内核源码，需要单独下载，内核源码有很多版本，比如common是通用的Linux内核，msm是用于使用高通MSM芯片的Android设备，goldfish是用于Android模拟器的内核源码，这里以goldfish为例。</p><p>建立工作目录：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir kernel</span><br><span class="line">cd kernel</span><br></pre></td></tr></table></figure><p>使用清华的镜像：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://aosp.tuna.tsinghua.edu.cn/kernel/goldfish.git</span><br></pre></td></tr></table></figure><p><strong>注：</strong>大概率git下载失败，文件过大。网上搜增加git缓存-依然无效，后来想到国内gitee，借助它完美下载，速度超快。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">完美解决-下载速度快</span></span><br><span class="line">git clone https://gitee.com/gnosz/goldfish.git </span><br><span class="line"></span><br><span class="line">正克隆到 &#x27;goldfish&#x27;...</span><br><span class="line">remote: Enumerating objects: 6038180, done.</span><br><span class="line">remote: Counting objects: 100% (6038180/6038180), done.</span><br><span class="line">remote: Compressing objects: 100% (916276/916276), done.</span><br><span class="line">remote: Total 6038180 (delta 5082037), reused 6034994 (delta 5079268), pack-reused 0</span><br><span class="line">接收对象中: 100% (6038180/6038180), 1.29 GiB | 3.37 MiB/s, 完成.</span><br><span class="line">处理 delta 中: 100% (5082037/5082037), 完成.</span><br></pre></td></tr></table></figure><p>这时kernel目录中会生成一个goldfish文件夹，进入后使用git命令查看有哪些内核版本分支可以下载：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">cd goldfish</span><br><span class="line"></span><br><span class="line">brooks@MiPro:~/kernel/goldfish$ git branch -a</span><br><span class="line">* master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/android-3.10</span><br><span class="line">  remotes/origin/android-3.18</span><br><span class="line">  remotes/origin/android-3.4</span><br><span class="line">  remotes/origin/android-4.14</span><br><span class="line">  remotes/origin/android-4.4</span><br><span class="line">  remotes/origin/android-goldfish-2.6.29</span><br><span class="line">  remotes/origin/android-goldfish-3.10</span><br><span class="line">  remotes/origin/android-goldfish-3.10-k-dev</span><br><span class="line">  remotes/origin/android-goldfish-3.10-l-mr1-dev</span><br><span class="line">  remotes/origin/android-goldfish-3.10-m-dev</span><br><span class="line">  remotes/origin/android-goldfish-3.10-n-dev</span><br><span class="line">  remotes/origin/android-goldfish-3.18</span><br><span class="line">  remotes/origin/android-goldfish-3.18-dev</span><br><span class="line">  remotes/origin/android-goldfish-3.4</span><br><span class="line">  remotes/origin/android-goldfish-3.4-l-mr1-dev</span><br><span class="line">  remotes/origin/android-goldfish-4.14-dev</span><br><span class="line">  remotes/origin/android-goldfish-4.14-dev.120914098</span><br><span class="line">  remotes/origin/android-goldfish-4.14-dev.20190417</span><br><span class="line">  remotes/origin/android-goldfish-4.14-dev.backup</span><br><span class="line">  remotes/origin/android-goldfish-4.4-dev</span><br><span class="line">  remotes/origin/android-goldfish-4.9-dev</span><br><span class="line">  remotes/origin/b12</span><br><span class="line">  remotes/origin/b120914098</span><br><span class="line">  remotes/origin/heads/for/android-goldfish-3.18-dev</span><br><span class="line">  remotes/origin/linux-goldfish-3.0-wip</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  remotes/origin/test</span><br><span class="line">  remotes/origin/tparker-recovery</span><br></pre></td></tr></table></figure><p>这里选择下载goldfish 3.4版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout remotes/origin/android-goldfish-3.4</span><br><span class="line"></span><br><span class="line">git switch -c origin/android-goldfish-3.4</span><br></pre></td></tr></table></figure><p><strong>感谢：</strong></p><p><a href="http://liuwangshu.cn/framework/aosp/2-download-aosp.html">http://liuwangshu.cn/framework/aosp/2-download-aosp.html</a><br><a href="https://source.android.google.cn/setup/start">https://source.android.google.cn/setup/start</a></p>]]></content>
      
      
      <categories>
          
          <category> AOSP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> AOSP </tag>
            
            <tag> Android </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo入门指南</title>
      <link href="/2021/07/15/Hexo%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/"/>
      <url>/2021/07/15/Hexo%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97/</url>
      
        <content type="html"><![CDATA[<h1 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h1><h2 id="创建文章"><a href="#创建文章" class="headerlink" title="创建文章"></a>创建文章</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n &quot;文章名字&quot;</span><br></pre></td></tr></table></figure><p>生成后提示文件路径：INFO  Created: ~/文档/Blog/source/_posts/Hexo使用.md</p><span id="more"></span> <h2 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hexo使用 </span><br><span class="line">date: 2021-07-15 14:34:51</span><br><span class="line">comments: true #是否可评论</span><br><span class="line">toc: true   #是否显示文章目录</span><br><span class="line">categories: &quot;Android&quot; #分类</span><br><span class="line">tags:   #标签</span><br><span class="line">- Android</span><br><span class="line">- Git</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h2 id="设置摘要"><a href="#设置摘要" class="headerlink" title="设置摘要"></a>设置摘要</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">添加： &lt;!--more--&gt; 之上的内容为摘要。</span><br></pre></td></tr></table></figure><h2 id="创建草稿"><a href="#创建草稿" class="headerlink" title="创建草稿"></a>创建草稿</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo n draft &quot;草稿名字&quot;</span><br></pre></td></tr></table></figure><p>生成后提示文件路径：INFO  Created: ~/文档/Blog/source/_drafts/草稿名字.md</p><h2 id="草稿转文章"><a href="#草稿转文章" class="headerlink" title="草稿转文章"></a>草稿转文章</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish &quot;草稿名字&quot;</span><br></pre></td></tr></table></figure><p>执行后提示：INFO  Published: ~/文档/Blog/source/_posts/草稿名字.md</p><h2 id="删除文章"><a href="#删除文章" class="headerlink" title="删除文章"></a>删除文章</h2><p>暂未提供命令，进入source/_posts/下删除对应的文章md， 然后执行部署。</p><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean #清楚缓存</span><br><span class="line">hexo g #生成静态文件</span><br><span class="line">hexo d #部署到服务端</span><br></pre></td></tr></table></figure><h1 id="服务"><a href="#服务" class="headerlink" title="服务"></a>服务</h1><h2 id="启动本地hexo服务"><a href="#启动本地hexo服务" class="headerlink" title="启动本地hexo服务"></a>启动本地hexo服务</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><h2 id="关闭服务"><a href="#关闭服务" class="headerlink" title="关闭服务"></a>关闭服务</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctrl + c</span><br></pre></td></tr></table></figure><h1 id="查看"><a href="#查看" class="headerlink" title="查看"></a>查看</h1><h2 id="查看所有文章"><a href="#查看所有文章" class="headerlink" title="查看所有文章"></a>查看所有文章</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo list post</span><br><span class="line"></span><br><span class="line">brooks@brooks-Mi-Pro:~/文档/Blog$ hexo list post</span><br><span class="line">INFO  Validating config</span><br><span class="line">INFO  Start processing</span><br><span class="line">Date        Title                                 Path                                  Category  Tags</span><br><span class="line">2021-07-14  第一篇《个人博客搭建》               _posts/个人博客搭建.md                         杂谈    Blog</span><br><span class="line">2021-07-18  Git 常用命令                       _posts/Git-常用命令.md                        Git     Git</span><br><span class="line">2021-07-18  Hexo入门指南                       _posts/Hexo入门指南.md                        Hexo    Hexo</span><br><span class="line">Draft       Android ADB 常用命令               _drafts/Android-ADB-常用命令.md</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一篇《个人博客搭建》</title>
      <link href="/2021/07/14/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
      <url>/2021/07/14/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</url>
      
        <content type="html"><![CDATA[<p>很久之前就想搞个 《个人博客》，直到今天才实现了，感谢大佬的教程，强推给大家。再次表示感谢！</p><p>搭建个人博客教程：<a href="https://zhuanlan.zhihu.com/p/102592286?tdsourcetag=s_pctim_aiomsg">https://zhuanlan.zhihu.com/p/102592286?tdsourcetag=s_pctim_aiomsg</a></p><p>就像作者所说，唯一需要的就是<strong>耐心、坚持</strong>！ 当你有足够的耐心和动力，仿佛一切都在帮你。成功后的喜悦，希望大家去切身体会。</p><p><img src="/2021/07/14/%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/img_car.jpeg"></p><p>贴上一个男人都喜欢的车！</p>]]></content>
      
      
      <categories>
          
          <category> 杂谈 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Blog </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
